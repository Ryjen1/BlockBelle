{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/Folder/BlockBelle/next-frontend/src/config/contracts.ts"],"sourcesContent":[" // Contract addresses - Updated with Celo mainnet deployment\r\nexport const CONTRACT_ADDRESSES = {\r\n  registry: '0xA72B585c6b2293177dd485Ec0A607A471976771B',\r\n  chat: '0x562456dBF6F21d40C96D392Ef6eD1de2e921bF2C',\r\n  // multicall: '0x608c24ffb845A37f9068fD06cD5F5bf5a1F7e97D', // Not deployed\r\n} as const\r\n\r\n// ENS Registry address for Celo Mainnet\r\nexport const ENS_ADDRESSES = {\r\n  celo: '0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e',\r\n} as const"],"names":[],"mappings":"AAAC,4DAA4D;;;;;;;AACtD,MAAM,qBAAqB;IAChC,UAAU;IACV,MAAM;AAER;AAGO,MAAM,gBAAgB;IAC3B,MAAM;AACR"}},
    {"offset": {"line": 25, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/Folder/BlockBelle/next-frontend/src/components/Register.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useAccount, useWriteContract, useReadContract } from 'wagmi';\r\nimport { parseAbi } from 'viem';\r\nimport { UserIcon, CheckCircleIcon, ExclamationTriangleIcon } from '@heroicons/react/24/outline';\r\nimport { CONTRACT_ADDRESSES } from '@/config/contracts';\r\n \r\n const registryAbi = parseAbi([\r\n   'function registerUser(string ensName, string avatarHash) external',\r\n   'function getUserDetails(address userAddress) external view returns (string memory ensName, string memory avatarHash, bool registered)',\r\n   'function isUserRegistered(address userAddress) external view returns (bool)',\r\n ])\r\n\r\ninterface RegisterProps {\r\n  onRegistrationSuccess?: () => void\r\n}\r\n\r\nexport default function Register({ onRegistrationSuccess }: RegisterProps) {\r\n   const { address } = useAccount()\r\n   const [ensName, setEnsName] = useState('')\r\n   const [avatarHash, setAvatarHash] = useState('')\r\n   const [isUserRegistered, setIsUserRegistered] = useState(false)\r\n   const { writeContract } = useWriteContract()\r\n\r\n   const { data: userDetails } = useReadContract({\r\n     address: CONTRACT_ADDRESSES.registry,\r\n     abi: registryAbi,\r\n     functionName: 'getUserDetails',\r\n     args: [address!],\r\n   })\r\n\r\n   const { data: registrationStatus } = useReadContract({\r\n     address: CONTRACT_ADDRESSES.registry,\r\n     abi: registryAbi,\r\n     functionName: 'isUserRegistered',\r\n     args: [address!],\r\n   })\r\n\r\n   const handleRegister = async () => {\r\n     if (!ensName.trim()) return\r\n\r\n     try {\r\n       await writeContract({\r\n         address: CONTRACT_ADDRESSES.registry,\r\n         abi: registryAbi,\r\n         functionName: 'registerUser',\r\n         args: [ensName, avatarHash || ''],\r\n       })\r\n       onRegistrationSuccess?.()\r\n     } catch (error: any) {\r\n       console.error('Registration failed:', error)\r\n\r\n       // Show user-friendly error message\r\n       if (error.message?.includes('insufficient funds')) {\r\n         alert('❌ Transaction failed: Insufficient funds for gas. Please get some Base Sepolia ETH from a faucet.')\r\n       } else if (error.message?.includes('User rejected')) {\r\n         alert('❌ Transaction cancelled: You rejected the transaction in your wallet.')\r\n       } else if (error.message?.includes('already registered')) {\r\n         alert('❌ Registration failed: You are already registered with a name.')\r\n       } else if (error.message?.includes('Name is already taken')) {\r\n         alert('❌ Registration failed: This name is already taken. Please choose a different name.')\r\n       } else {\r\n         alert('❌ Registration failed: ' + (error.message || 'Unknown error. Please try again.'))\r\n       }\r\n     }\r\n   }\r\n\r\n   // Check user registration status\r\n   useEffect(() => {\r\n     if (registrationStatus !== undefined) {\r\n       setIsUserRegistered(registrationStatus)\r\n     }\r\n   }, [registrationStatus])\r\n\r\n  // Auto-navigate when registration is successful\r\n  useEffect(() => {\r\n    if (userDetails && userDetails[2] && onRegistrationSuccess) {\r\n      // Add a small delay to show the success message before navigating\r\n      const timer = setTimeout(() => {\r\n        onRegistrationSuccess()\r\n      }, 2000)\r\n      return () => clearTimeout(timer)\r\n    }\r\n  }, [userDetails, onRegistrationSuccess])\r\n\r\n  return (\r\n    <div className=\"max-w-2xl mx-auto\">\r\n      <div className=\"bg-white rounded-2xl shadow-xl overflow-hidden\">\r\n        <div className=\"bg-gradient-to-r from-pink-500 to-purple-600 px-8 py-6\">\r\n          <div className=\"flex items-center space-x-3\">\r\n            <UserIcon className=\"h-8 w-8 text-white\" />\r\n            <h2 className=\"text-2xl font-bold text-white\">Register Your Profile</h2>\r\n          </div>\r\n          <p className=\"text-pink-100 mt-2\">\r\n            Create your unique profile to start chatting!\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"px-8 py-8\">\r\n          {userDetails && userDetails[2] ? (\r\n            <div className=\"bg-green-50 border border-green-200 rounded-lg p-6 mb-6\">\r\n              <div className=\"flex items-center\">\r\n                <CheckCircleIcon className=\"h-6 w-6 text-green-500 mr-3\" />\r\n                <div>\r\n                  <h3 className=\"text-lg font-semibold text-green-800\">Registration Complete!</h3>\r\n                  <p className=\"text-green-700\">You're registered as: <span className=\"font-mono font-bold\">{userDetails[0]}</span></p>\r\n                  <p className=\"text-green-600 text-sm mt-1\">Your profile is now active!</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6\">\r\n              <div className=\"flex items-start\">\r\n                <UserIcon className=\"h-6 w-6 text-blue-500 mr-3 mt-0.5\" />\r\n                <div>\r\n                  <h3 className=\"text-lg font-semibold text-blue-800\">Create Your Profile</h3>\r\n                  <p className=\"text-blue-700 text-sm\">\r\n                    Register your unique name and avatar to join the community.\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"space-y-6\">\r\n            <div>\r\n              <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\r\n                Display Name\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                value={ensName}\r\n                onChange={(e) => setEnsName(e.target.value)}\r\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-lg\"\r\n                placeholder=\"Enter your display name\"\r\n              />\r\n              <p className=\"text-sm text-gray-500 mt-2\">\r\n                Choose any name you'd like to be known by in the community\r\n              </p>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\r\n                Avatar Hash (Optional)\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                value={avatarHash}\r\n                onChange={(e) => setAvatarHash(e.target.value)}\r\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200\"\r\n                placeholder=\"IPFS hash or URL for your avatar\"\r\n              />\r\n              <p className=\"text-sm text-gray-500 mt-2\">\r\n                Leave empty for default avatar, or add an IPFS hash/URL for your custom avatar\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"bg-gray-50 rounded-lg p-4\">\r\n              <h4 className=\"font-semibold text-gray-800 mb-2\">How it works:</h4>\r\n              <ul className=\"text-sm text-gray-600 space-y-1\">\r\n                <li>• Choose any display name you like</li>\r\n                <li>• Optionally add an avatar hash for your profile picture</li>\r\n                <li>• One profile per wallet address</li>\r\n                <li>• Start chatting with other community members!</li>\r\n              </ul>\r\n            </div>\r\n\r\n            <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n              <h4 className=\"font-semibold text-blue-800 mb-2\">Need Celo?</h4>\r\n              <p className=\"text-sm text-blue-700 mb-2\">\r\n                This app runs on Celo mainnet. If your transaction fails due to insufficient funds:\r\n              </p>\r\n              <a\r\n                href=\"https://faucet.celo.org/\"\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                className=\"text-blue-600 hover:text-blue-800 underline text-sm\"\r\n              >\r\n                Get Celo from faucet →\r\n              </a>\r\n            </div>\r\n\r\n            <button\r\n              onClick={handleRegister}\r\n              disabled={!ensName.trim() || isUserRegistered}\r\n              className=\"w-full bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 disabled:from-gray-400 disabled:to-gray-500 text-white font-bold py-4 px-6 rounded-lg transition-all duration-200 transform hover:scale-105 disabled:transform-none disabled:cursor-not-allowed\"\r\n            >\r\n              {isUserRegistered ? 'Already Registered' : 'Register Profile'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 507, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/Folder/BlockBelle/next-frontend/src/utils/contractReads.ts"],"sourcesContent":["import { createPublicClient, http } from 'viem';\r\nimport { celo } from 'viem/chains';\r\nimport { parseAbi } from 'viem';\r\nimport { CONTRACT_ADDRESSES } from '@/config/contracts';\r\n\r\nconst registryAbi = parseAbi([\r\n  'function getUserDetails(address userAddress) external view returns (string memory ensName, string memory avatarHash, bool registered)',\r\n])\r\n\r\n// Create a public client for reading contract data\r\nconst publicClient = createPublicClient({\r\n  chain: celo,\r\n  transport: http()\r\n});\r\n\r\nexport async function getUserDetailsFromContract(userAddress: string) {\r\n  try {\r\n    const result = await publicClient.readContract({\r\n      address: CONTRACT_ADDRESSES.registry as `0x${string}`,\r\n      abi: registryAbi,\r\n      functionName: 'getUserDetails',\r\n      args: [userAddress as `0x${string}`],\r\n    })\r\n\r\n    if (result && Array.isArray(result) && result.length >= 3) {\r\n      const [ensName, avatarHash, registered] = result\r\n      return {\r\n        ensName: ensName || '',\r\n        avatarHash: avatarHash || '',\r\n        registered: Boolean(registered)\r\n      }\r\n    }\r\n\r\n    return { ensName: '', avatarHash: '', registered: false }\r\n  } catch (error) {\r\n    console.error('Error reading user details from contract:', error)\r\n    return { ensName: '', avatarHash: '', registered: false }\r\n  }\r\n}"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;AACA;AACA;;;;;AAEA,MAAM,cAAc,IAAA,6OAAQ,EAAC;IAC3B;CACD;AAED,mDAAmD;AACnD,MAAM,eAAe,IAAA,6OAAkB,EAAC;IACtC,OAAO,+NAAI;IACX,WAAW,IAAA,+NAAI;AACjB;AAEO,eAAe,2BAA2B,WAAmB;IAClE,IAAI;QACF,MAAM,SAAS,MAAM,aAAa,YAAY,CAAC;YAC7C,SAAS,0MAAkB,CAAC,QAAQ;YACpC,KAAK;YACL,cAAc;YACd,MAAM;gBAAC;aAA6B;QACtC;QAEA,IAAI,UAAU,MAAM,OAAO,CAAC,WAAW,OAAO,MAAM,IAAI,GAAG;YACzD,MAAM,CAAC,SAAS,YAAY,WAAW,GAAG;YAC1C,OAAO;gBACL,SAAS,WAAW;gBACpB,YAAY,cAAc;gBAC1B,YAAY,QAAQ;YACtB;QACF;QAEA,OAAO;YAAE,SAAS;YAAI,YAAY;YAAI,YAAY;QAAM;IAC1D,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,6CAA6C;QAC3D,OAAO;YAAE,SAAS;YAAI,YAAY;YAAI,YAAY;QAAM;IAC1D;AACF"}},
    {"offset": {"line": 567, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/Folder/BlockBelle/next-frontend/src/components/MembersList.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useAccount, useReadContract, useWriteContract } from 'wagmi';\r\nimport { parseAbi, formatUnits } from 'viem';\r\nimport { UserIcon, ChatBubbleLeftRightIcon, CheckCircleIcon, XMarkIcon, BanknotesIcon, PaperAirplaneIcon } from '@heroicons/react/24/outline';\r\nimport { CONTRACT_ADDRESSES } from '@/config/contracts';\r\nimport { getUserDetailsFromContract } from '@/utils/contractReads';\r\n\r\nconst registryAbi = parseAbi([\r\n  'function getAllUsers() external view returns (address[])',\r\n  'function getUserDetails(address userAddress) external view returns (string memory ensName, string memory avatarHash, bool registered)',\r\n])\r\n\r\nconst chatAbi = parseAbi([\r\n  'function sendMessage(address to, string content) external',\r\n  'function getConversation(address user1, address user2) external view returns ((address sender, address receiver, string content, uint256 timestamp)[])',\r\n])\r\n\r\nconst GDOLLAR_TOKEN_ADDRESS = '0x62B8B11039FcfE5aB0C56E502b1C372A3d2a9c7A'; // Celo Mainnet\r\n\r\nconst ERC20_ABI = parseAbi([\r\n  'function transfer(address to, uint256 amount) external returns (bool)',\r\n  'function balanceOf(address account) external view returns (uint256)',\r\n]);\r\n\r\ninterface Member {\r\n  address: string\r\n  ensName: string\r\n}\r\n\r\ninterface MembersListProps {\r\n  onSelectUser?: (user: Member) => void\r\n  showChatButton?: boolean\r\n}\r\n\r\ninterface Message {\r\n  sender: string\r\n  content: string\r\n  timestamp: bigint\r\n}\r\n\r\nexport default function MembersList({ onSelectUser, showChatButton = true }: MembersListProps) {\r\n  const { address: currentUserAddress } = useAccount()\r\n  const [members, setMembers] = useState<Member[]>([])\r\n  const [selectedUser, setSelectedUser] = useState<Member | null>(null)\r\n  const [showChatModal, setShowChatModal] = useState(false)\r\n  const [showTipModal, setShowTipModal] = useState(false)\r\n  const [newMessage, setNewMessage] = useState('')\r\n  const [tipAmount, setTipAmount] = useState<string>('')\r\n  const [messages, setMessages] = useState<Message[]>([])\r\n\r\n  const { data: allUsers } = useReadContract({\r\n    address: CONTRACT_ADDRESSES.registry,\r\n    abi: registryAbi,\r\n    functionName: 'getAllUsers',\r\n  })\r\n\r\n  const { data: conversation, refetch: refetchConversation } = useReadContract({\r\n    address: CONTRACT_ADDRESSES.chat,\r\n    abi: chatAbi,\r\n    functionName: 'getConversation',\r\n    args: currentUserAddress && selectedUser ? [currentUserAddress as `0x${string}`, selectedUser.address as `0x${string}`] : undefined,\r\n  })\r\n\r\n  const { writeContractAsync, isPending: isSending } = useWriteContract()\r\n\r\n  useEffect(() => {\r\n    if (allUsers && allUsers.length > 0) {\r\n      const membersList: Member[] = []\r\n\r\n      // Create members list\r\n      for (const userAddress of allUsers) {\r\n        if (userAddress.toLowerCase() !== currentUserAddress?.toLowerCase()) {\r\n          membersList.push({\r\n            address: userAddress,\r\n            ensName: `${userAddress.slice(0, 6)}...${userAddress.slice(-4)}`\r\n          })\r\n        }\r\n      }\r\n\r\n      setMembers(membersList)\r\n\r\n      // Fetch actual usernames from the contract\r\n      allUsers.forEach((userAddress) => {\r\n        if (userAddress.toLowerCase() !== currentUserAddress?.toLowerCase()) {\r\n          // Use the contract reading utility to fetch actual username\r\n          try {\r\n            const fetchUsername = async () => {\r\n              try {\r\n                const userDetails = await getUserDetailsFromContract(userAddress)\r\n\r\n                if (userDetails) {\r\n                  const actualUsername = userDetails.registered && userDetails.ensName\r\n                    ? userDetails.ensName\r\n                    : `${userAddress.slice(0, 6)}...${userAddress.slice(-4)}`\r\n\r\n                  // Update the member in the list\r\n                  setMembers(prev => prev.map(member =>\r\n                    member.address === userAddress\r\n                      ? { ...member, ensName: actualUsername }\r\n                      : member\r\n                  ))\r\n                }\r\n              } catch (error) {\r\n                console.error('Error fetching username from contract:', error)\r\n              }\r\n            }\r\n\r\n            // Fetch with a small delay to avoid overwhelming the network\r\n            setTimeout(fetchUsername, Math.random() * 1000)\r\n          } catch (error) {\r\n            console.error('Error setting up username fetch:', error)\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }, [allUsers, currentUserAddress])\r\n\r\n  useEffect(() => {\r\n    if (conversation) {\r\n      const formattedMessages: Message[] = conversation.map((msg: any) => ({\r\n        sender: msg.sender,\r\n        content: msg.content,\r\n        timestamp: BigInt(msg.timestamp)\r\n      }))\r\n      setMessages(formattedMessages)\r\n    }\r\n  }, [conversation])\r\n\r\n  const isCurrentUser = (memberAddress: string) => {\r\n    return currentUserAddress?.toLowerCase() === memberAddress.toLowerCase()\r\n  }\r\n\r\n  const handleUserClick = (member: Member) => {\r\n    setSelectedUser(member)\r\n    setShowChatModal(true)\r\n    if (onSelectUser) {\r\n      onSelectUser(member)\r\n    }\r\n  }\r\n\r\n  const handleSendMessage = async () => {\r\n    if (!selectedUser || !newMessage || !currentUserAddress) return\r\n\r\n    try {\r\n      await writeContractAsync({\r\n        address: CONTRACT_ADDRESSES.chat,\r\n        abi: chatAbi,\r\n        functionName: 'sendMessage',\r\n        args: [selectedUser.address as `0x${string}`, newMessage],\r\n      })\r\n      setNewMessage('')\r\n      // Refetch conversation after sending\r\n      setTimeout(() => refetchConversation(), 1000)\r\n    } catch (error) {\r\n      console.error('Failed to send message:', error)\r\n    }\r\n  }\r\n\r\n  const handleTipClick = (member: Member) => {\r\n    setSelectedUser(member)\r\n    setShowTipModal(true)\r\n  }\r\n\r\n  const handleSendTip = async (amount: string) => {\r\n    if (!selectedUser || !currentUserAddress || !amount) return\r\n\r\n    try {\r\n      const amountInWei = BigInt(amount) * BigInt(10 ** 18)\r\n      await writeContractAsync({\r\n        address: GDOLLAR_TOKEN_ADDRESS,\r\n        abi: ERC20_ABI,\r\n        functionName: 'transfer',\r\n        args: [selectedUser.address as `0x${string}`, amountInWei],\r\n      })\r\n      setShowTipModal(false)\r\n      setTipAmount('')\r\n    } catch (error) {\r\n      console.error('Failed to send tip:', error)\r\n    }\r\n  }\r\n\r\n  if (members.length === 0) {\r\n    return (\r\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n        <div className=\"flex items-center space-x-2 mb-4\">\r\n          <UserIcon className=\"h-5 w-5 text-gray-600\" />\r\n          <h3 className=\"text-lg font-semibold text-gray-800\">Community Members</h3>\r\n        </div>\r\n        <div className=\"text-center py-8\">\r\n          <UserIcon className=\"h-12 w-12 text-gray-300 mx-auto mb-3\" />\r\n          <p className=\"text-gray-500\">No registered members yet</p>\r\n          <p className=\"text-sm text-gray-400 mt-1\">Be the first to join the community!</p>\r\n          <div className=\"mt-4 p-3 bg-blue-50 rounded-lg\">\r\n            <p className=\"text-xs text-blue-700\">\r\n              <strong>How to get started:</strong>\r\n            </p>\r\n            <ol className=\"text-xs text-blue-600 mt-1 space-y-1\">\r\n              <li>1. Go to the Register tab</li>\r\n              <li>2. Create your profile with any name</li>\r\n              <li>3. Come back here to see all members</li>\r\n              <li>4. Start chatting with other users!</li>\r\n            </ol>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <div className=\"flex items-center space-x-2\">\r\n            <UserIcon className=\"h-5 w-5 text-gray-600\" />\r\n            <h3 className=\"text-lg font-semibold text-gray-800\">Community Members</h3>\r\n            <span className=\"bg-blue-100 text-blue-800 text-xs font-medium px-2 py-1 rounded-full\">\r\n              {members.length}\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"space-y-2 max-h-64 overflow-y-auto\">\r\n          {members.map((member, index) => {\r\n            const isCurrentUserMember = isCurrentUser(member.address)\r\n            return (\r\n              <div\r\n                key={member.address}\r\n                className={`flex items-center justify-between p-3 rounded-lg transition-colors duration-200 ${isCurrentUserMember\r\n                    ? 'bg-blue-50 border-2 border-blue-200'\r\n                    : 'hover:bg-gray-50 cursor-pointer group'\r\n                  }`}\r\n              >\r\n                <div className=\"flex items-center space-x-3 flex-1\" onClick={() => !isCurrentUserMember && handleUserClick(member)}>\r\n                  <div className=\"relative\">\r\n                    <div className={`w-8 h-8 rounded-full flex items-center justify-center ${isCurrentUserMember\r\n                        ? 'bg-gradient-to-r from-blue-400 to-blue-600'\r\n                        : 'bg-gradient-to-r from-pink-400 to-purple-500'\r\n                      }`}>\r\n                      <span className=\"text-white text-sm font-medium\">\r\n                        {member.ensName.charAt(0).toUpperCase()}\r\n                      </span>\r\n                    </div>\r\n                    {isCurrentUserMember && (\r\n                      <div className=\"absolute -top-1 -right-1 w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center\">\r\n                        <CheckCircleIcon className=\"h-3 w-3 text-white\" />\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                  <div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <p className={`font-medium transition-colors ${isCurrentUserMember ? 'text-blue-900' : 'text-gray-900 group-hover:text-blue-600'\r\n                        }`}>\r\n                        {member.ensName}\r\n                      </p>\r\n                      {isCurrentUserMember && (\r\n                        <span className=\"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full\">\r\n                          You\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                    <p className=\"text-xs text-gray-500 font-mono\">\r\n                      {member.address.slice(0, 6)}...{member.address.slice(-4)}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n\r\n                {showChatButton && !isCurrentUserMember && (\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <button\r\n                      onClick={(e) => {\r\n                        e.stopPropagation()\r\n                        handleTipClick(member)\r\n                      }}\r\n                      className=\"opacity-0 group-hover:opacity-100 bg-blockbelle-gold hover:bg-blockbelle-gold/80 text-white p-2 rounded-full transition-all duration-200 transform hover:scale-105\"\r\n                      title=\"Tip G$\"\r\n                    >\r\n                      <BanknotesIcon className=\"h-4 w-4\" />\r\n                    </button>\r\n                    <button\r\n                      onClick={(e) => {\r\n                        e.stopPropagation()\r\n                        handleUserClick(member)\r\n                      }}\r\n                      className=\"opacity-0 group-hover:opacity-100 bg-blue-500 hover:bg-blue-600 text-white p-2 rounded-full transition-all duration-200 transform hover:scale-105\"\r\n                      title=\"Start chat\"\r\n                    >\r\n                      <ChatBubbleLeftRightIcon className=\"h-4 w-4\" />\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )\r\n          })}\r\n        </div>\r\n\r\n        <div className=\"mt-4 pt-4 border-t border-gray-100\">\r\n          <p className=\"text-xs text-gray-500 text-center\">\r\n            Click on any member to start a private conversation or send G$ tips\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Chat Modal */}\r\n      {showChatModal && selectedUser && (\r\n        <div className=\"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-2xl p-6 max-w-2xl w-full max-h-[80vh] flex flex-col shadow-2xl\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <div>\r\n                <h3 className=\"text-xl font-bold text-gray-900\">Chat with {selectedUser.ensName}</h3>\r\n                <p className=\"text-xs text-gray-500 font-mono\">{selectedUser.address.slice(0, 10)}...{selectedUser.address.slice(-8)}</p>\r\n              </div>\r\n              <button\r\n                onClick={() => setShowChatModal(false)}\r\n                className=\"text-gray-400 hover:text-gray-600\"\r\n              >\r\n                <XMarkIcon className=\"h-6 w-6\" />\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"flex-1 border rounded-lg p-4 mb-4 overflow-y-auto bg-gray-50 min-h-[300px] max-h-[400px]\">\r\n              {messages.length === 0 ? (\r\n                <div className=\"text-center py-8\">\r\n                  <ChatBubbleLeftRightIcon className=\"h-12 w-12 text-gray-300 mx-auto mb-3\" />\r\n                  <p className=\"text-gray-500\">No messages yet</p>\r\n                  <p className=\"text-sm text-gray-400 mt-1\">Start the conversation!</p>\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-3\">\r\n                  {messages.map((msg, index) => (\r\n                    <div key={index} className={`flex ${msg.sender.toLowerCase() === currentUserAddress?.toLowerCase() ? 'justify-end' : 'justify-start'}`}>\r\n                      <div className={`max-w-[70%] rounded-lg p-3 ${msg.sender.toLowerCase() === currentUserAddress?.toLowerCase()\r\n                          ? 'bg-blockbelle-purple text-white'\r\n                          : 'bg-white border border-gray-200'\r\n                        }`}>\r\n                        <p className=\"text-sm\">{msg.content}</p>\r\n                        <p className=\"text-xs opacity-70 mt-1\">\r\n                          {new Date(Number(msg.timestamp) * 1000).toLocaleTimeString()}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"flex space-x-2\">\r\n              <input\r\n                type=\"text\"\r\n                value={newMessage}\r\n                onChange={(e) => setNewMessage(e.target.value)}\r\n                onKeyPress={(e) => e.key === 'Enter' && handleSendMessage()}\r\n                className=\"flex-1 border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blockbelle-purple\"\r\n                placeholder=\"Type a message...\"\r\n              />\r\n              <button\r\n                onClick={handleSendMessage}\r\n                disabled={isSending || !newMessage}\r\n                className=\"gradient-blockbelle hover:opacity-90 text-white font-semibold px-6 py-2 rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center\"\r\n              >\r\n                {isSending ? (\r\n                  <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white\"></div>\r\n                ) : (\r\n                  <PaperAirplaneIcon className=\"h-5 w-5\" />\r\n                )}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Tip Modal */}\r\n      {showTipModal && selectedUser && (\r\n        <div className=\"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-2xl p-6 max-w-md w-full shadow-2xl\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <h3 className=\"text-xl font-bold text-gray-900\">Send G$ Tip</h3>\r\n              <button\r\n                onClick={() => setShowTipModal(false)}\r\n                className=\"text-gray-400 hover:text-gray-600\"\r\n              >\r\n                <XMarkIcon className=\"h-6 w-6\" />\r\n              </button>\r\n            </div>\r\n\r\n            <p className=\"text-sm text-gray-600 mb-4\">\r\n              Send G$ to <span className=\"font-semibold text-blockbelle-purple\">{selectedUser.ensName}</span>\r\n            </p>\r\n\r\n            <div className=\"space-y-3 mb-4\">\r\n              <div className=\"grid grid-cols-3 gap-2\">\r\n                {['10', '50', '100'].map((amount) => (\r\n                  <button\r\n                    key={amount}\r\n                    onClick={() => setTipAmount(amount)}\r\n                    className={`py-2 px-4 rounded-lg font-semibold transition-all ${tipAmount === amount\r\n                        ? 'gradient-blockbelle text-white'\r\n                        : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\r\n                      }`}\r\n                  >\r\n                    {amount} G$\r\n                  </button>\r\n                ))}\r\n              </div>\r\n              <input\r\n                type=\"number\"\r\n                value={tipAmount}\r\n                onChange={(e) => setTipAmount(e.target.value)}\r\n                className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blockbelle-purple\"\r\n                placeholder=\"Or enter custom amount\"\r\n              />\r\n            </div>\r\n\r\n            <button\r\n              onClick={() => handleSendTip(tipAmount)}\r\n              disabled={!tipAmount || isSending}\r\n              className=\"w-full gradient-blockbelle hover:opacity-90 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              {isSending ? (\r\n                <span className=\"flex items-center justify-center\">\r\n                  <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\"></div>\r\n                  Sending...\r\n                </span>\r\n              ) : (\r\n                `Send ${tipAmount || '0'} G$`\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  )\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1453, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/Folder/BlockBelle/next-frontend/src/components/GroupChat.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useWriteContract, useReadContract, useWatchContractEvent, usePublicClient } from 'wagmi';\r\nimport { parseAbi } from 'viem';\r\nimport MembersList from './MembersList';\r\nimport { CONTRACT_ADDRESSES } from '@/config/contracts';\r\n\r\nconst chatAbi = parseAbi([\r\n  'function createGroup(string _name) external returns (uint256)',\r\n  'function addMember(uint256 _groupId, address _member) external',\r\n  'function sendGroupMessage(uint256 _groupId, string _content) external',\r\n  'function getGroupMessages(uint256 _groupId, uint256 _start, uint256 _count) external view returns ((address sender, string content, uint256 timestamp)[])',\r\n  'function getGroupMembers(uint256 _groupId) external view returns (address[])',\r\n  'function groupCount() external view returns (uint256)',\r\n])\r\n\r\nconst registryAbi = parseAbi([\r\n  'function getAllUsers() external view returns (address[] memory)',\r\n  'function getUserDetails(address userAddress) external view returns (string memory ensName, string memory avatarHash, bool registered)',\r\n])\r\n\r\ninterface Message {\r\n  sender: string\r\n  content: string\r\n  timestamp: bigint\r\n}\r\n\r\nexport default function GroupChat() {\r\n   const [selectedGroup, setSelectedGroup] = useState<number | null>(null)\r\n   const [messages, setMessages] = useState<Message[]>([])\r\n   const [newMessage, setNewMessage] = useState('')\r\n   const [newGroupName, setNewGroupName] = useState('')\r\n   const [newMember, setNewMember] = useState('')\r\n   const [userNames, setUserNames] = useState<Record<string, string>>({})\r\n\r\n   const { writeContract } = useWriteContract()\r\n   const publicClient = usePublicClient()\r\n\r\n   const { data: allUsers } = useReadContract({\r\n     address: CONTRACT_ADDRESSES.registry,\r\n     abi: registryAbi,\r\n     functionName: 'getAllUsers',\r\n   })\r\n\r\n   const { data: groupMessages } = useReadContract({\r\n     address: CONTRACT_ADDRESSES.chat,\r\n     abi: chatAbi,\r\n     functionName: 'getGroupMessages',\r\n     args: selectedGroup ? [BigInt(selectedGroup), 0n, 100n] : undefined,\r\n   })\r\n\r\n   useEffect(() => {\r\n      if (groupMessages) {\r\n        setMessages(groupMessages as Message[])\r\n      }\r\n    }, [groupMessages])\r\n\r\n   useEffect(() => {\r\n     if (allUsers && allUsers.length > 0 && publicClient) {\r\n       Promise.all(allUsers.map(address => publicClient.readContract({\r\n         address: CONTRACT_ADDRESSES.registry,\r\n         abi: registryAbi,\r\n         functionName: 'getUserDetails',\r\n         args: [address],\r\n       }))).then(details => {\r\n         const names: Record<string, string> = {}\r\n         allUsers.forEach((address, index) => {\r\n           names[address] = details[index][0] || address.slice(0, 6) + '...' + address.slice(-4)\r\n         })\r\n         setUserNames(names)\r\n       }).catch(error => {\r\n         console.error('Error fetching user details:', error)\r\n       })\r\n     }\r\n   }, [allUsers, publicClient])\r\n\r\n   useWatchContractEvent({\r\n     address: CONTRACT_ADDRESSES.chat,\r\n     abi: chatAbi,\r\n     eventName: 'GroupMessageSent',\r\n     onLogs: () => {\r\n       // Refresh messages\r\n       if (selectedGroup) {\r\n         // Trigger refetch\r\n       }\r\n     },\r\n   })\r\n\r\n  const handleCreateGroup = () => {\r\n    if (!newGroupName) return\r\n    writeContract({\r\n      address: CONTRACT_ADDRESSES.chat,\r\n      abi: chatAbi,\r\n      functionName: 'createGroup',\r\n      args: [newGroupName],\r\n    })\r\n    setNewGroupName('')\r\n  }\r\n\r\n  const handleAddMember = () => {\r\n    if (!selectedGroup || !newMember) return\r\n    writeContract({\r\n      address: CONTRACT_ADDRESSES.chat,\r\n      abi: chatAbi,\r\n      functionName: 'addMember',\r\n      args: [BigInt(selectedGroup), newMember as `0x${string}`],\r\n    })\r\n    setNewMember('')\r\n  }\r\n\r\n  const handleSendMessage = () => {\r\n    if (!selectedGroup || !newMessage) return\r\n    writeContract({\r\n      address: CONTRACT_ADDRESSES.chat,\r\n      abi: chatAbi,\r\n      functionName: 'sendGroupMessage',\r\n      args: [BigInt(selectedGroup), newMessage],\r\n    })\r\n    setNewMessage('')\r\n  }\r\n\r\n  const handleMemberSelect = (member: { address: string; ensName: string }) => {\r\n    setNewMember(member.address)\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-7xl mx-auto\">\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6\">\r\n        {/* Members List */}\r\n        <div className=\"lg:col-span-1\">\r\n          <MembersList onSelectUser={handleMemberSelect} showChatButton={false} />\r\n        </div>\r\n\r\n        {/* Main Chat Area */}\r\n        <div className=\"lg:col-span-3 bg-white rounded-lg shadow-md p-6\">\r\n          <h2 className=\"text-2xl font-bold mb-4\">Group Chat</h2>\r\n\r\n          <div className=\"mb-4\">\r\n            <input\r\n              type=\"text\"\r\n              value={newGroupName}\r\n              onChange={(e) => setNewGroupName(e.target.value)}\r\n              className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline mr-2\"\r\n              placeholder=\"New group name\"\r\n            />\r\n            <button\r\n              onClick={handleCreateGroup}\r\n              className=\"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\r\n            >\r\n              Create Group\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n            <div>\r\n              <h3 className=\"text-lg font-semibold mb-2\">Groups</h3>\r\n              <div className=\"space-y-2\">\r\n                {/* Groups will be populated from smart contract */}\r\n                <div className=\"text-center py-4 text-gray-500 text-sm\">\r\n                  No groups created yet\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"md:col-span-2\">\r\n              {selectedGroup && (\r\n                <>\r\n                  <div className=\"mb-4\">\r\n                    <input\r\n                      type=\"text\"\r\n                      value={newMember}\r\n                      onChange={(e) => setNewMember(e.target.value)}\r\n                      className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline mr-2\"\r\n                      placeholder=\"Member address\"\r\n                    />\r\n                    <button\r\n                      onClick={handleAddMember}\r\n                      className=\"bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\r\n                    >\r\n                      Add Member\r\n                    </button>\r\n                  </div>\r\n\r\n                  <div className=\"border rounded p-4 h-64 overflow-y-auto mb-4\">\r\n                    {messages.length === 0 ? (\r\n                      <div className=\"text-center text-gray-500 py-8\">\r\n                        <p>No messages yet. Start the conversation!</p>\r\n                      </div>\r\n                    ) : (\r\n                      messages.map((msg, index) => (\r\n                        <div key={index} className=\"mb-2\">\r\n                          <span className=\"font-semibold\">{userNames[msg.sender] || msg.sender.slice(0, 6) + '...' + msg.sender.slice(-4)}:</span> {msg.content}\r\n                        </div>\r\n                      ))\r\n                    )}\r\n                  </div>\r\n\r\n                  <div className=\"flex\">\r\n                    <input\r\n                      type=\"text\"\r\n                      value={newMessage}\r\n                      onChange={(e) => setNewMessage(e.target.value)}\r\n                      className=\"shadow appearance-none border rounded-l w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n                      placeholder=\"Type a message...\"\r\n                    />\r\n                    <button\r\n                      onClick={handleSendMessage}\r\n                      className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-r focus:outline-none focus:shadow-outline\"\r\n                    >\r\n                      Send\r\n                    </button>\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1855, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/Folder/BlockBelle/next-frontend/src/components/Tier3Badge.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { Crown } from 'lucide-react';\r\n\r\ninterface Tier3BadgeProps {\r\n  size?: 'sm' | 'md' | 'lg';\r\n  showLabel?: boolean;\r\n  className?: string;\r\n}\r\n\r\nexport default function Tier3Badge({ size = 'sm', showLabel = false, className = '' }: Tier3BadgeProps) {\r\n  const sizeClasses = {\r\n    sm: 'w-4 h-4',\r\n    md: 'w-5 h-5',\r\n    lg: 'w-6 h-6'\r\n  };\r\n\r\n  const labelSizeClasses = {\r\n    sm: 'text-xs px-2 py-0.5',\r\n    md: 'text-sm px-2.5 py-1',\r\n    lg: 'text-base px-3 py-1.5'\r\n  };\r\n\r\n  if (showLabel) {\r\n    return (\r\n      <span \r\n        className={`tier-badge inline-flex items-center gap-1 ${labelSizeClasses[size]} ${className}`}\r\n        title=\"Tier 3 - Self Protocol Verified\"\r\n      >\r\n        <Crown className={sizeClasses[size]} />\r\n        <span>Tier 3</span>\r\n      </span>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <span \r\n      className={`inline-flex items-center ${className}`}\r\n      title=\"Tier 3 - Self Protocol Verified\"\r\n    >\r\n      <Crown className={`${sizeClasses[size]} text-blockbelle-gold`} style={{ filter: 'drop-shadow(0 1px 2px rgba(251, 191, 36, 0.5))' }} />\r\n    </span>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAUe,SAAS,WAAW,EAAE,OAAO,IAAI,EAAE,YAAY,KAAK,EAAE,YAAY,EAAE,EAAmB;IACpG,MAAM,cAAc;QAClB,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,MAAM,mBAAmB;QACvB,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,IAAI,WAAW;QACb,qBACE,oPAAC;YACC,WAAW,CAAC,0CAA0C,EAAE,gBAAgB,CAAC,KAAK,CAAC,CAAC,EAAE,WAAW;YAC7F,OAAM;;8BAEN,oPAAC,uQAAK;oBAAC,WAAW,WAAW,CAAC,KAAK;;;;;;8BACnC,oPAAC;8BAAK;;;;;;;;;;;;IAGZ;IAEA,qBACE,oPAAC;QACC,WAAW,CAAC,yBAAyB,EAAE,WAAW;QAClD,OAAM;kBAEN,cAAA,oPAAC,uQAAK;YAAC,WAAW,GAAG,WAAW,CAAC,KAAK,CAAC,qBAAqB,CAAC;YAAE,OAAO;gBAAE,QAAQ;YAAiD;;;;;;;;;;;AAGvI;KAjCwB"}},
    {"offset": {"line": 1930, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/Folder/BlockBelle/next-frontend/src/hooks/useBulkSelfVerification.ts"],"sourcesContent":["import { useReadContracts } from 'wagmi';\r\nimport { useMemo } from 'react';\r\n\r\nconst PROOF_OF_HUMAN_ADDRESS = (process.env.NEXT_PUBLIC_SELF_ENDPOINT || '0x72493afCa2789dA494DD3695d74b50DE7774336A') as `0x${string}`;\r\n\r\nconst PROOF_OF_HUMAN_ABI = [\r\n  {\r\n    inputs: [{ name: '', type: 'address' }],\r\n    name: 'isVerified',\r\n    outputs: [{ name: '', type: 'bool' }],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n] as const;\r\n\r\n/**\r\n * Hook to check verification status for multiple users from blockchain\r\n * Returns a map of address -> verification status\r\n */\r\nexport function useBulkSelfVerification(addresses: string[]) {\r\n  // Create contracts array for batch reading\r\n  const contracts = useMemo(() => \r\n    addresses.map(address => ({\r\n      address: PROOF_OF_HUMAN_ADDRESS,\r\n      abi: PROOF_OF_HUMAN_ABI,\r\n      functionName: 'isVerified' as const,\r\n      args: [address as `0x${string}`],\r\n    })),\r\n    [addresses.join(',')]\r\n  );\r\n\r\n  const { data, isLoading } = useReadContracts({\r\n    contracts,\r\n    query: {\r\n      enabled: addresses.length > 0,\r\n    },\r\n  });\r\n\r\n  // Transform results into a map\r\n  const verifications = useMemo(() => {\r\n    const result: Record<string, boolean> = {};\r\n    \r\n    if (data) {\r\n      addresses.forEach((address, index) => {\r\n        result[address] = (data[index]?.result as boolean) || false;\r\n      });\r\n    }\r\n    \r\n    return result;\r\n  }, [data, addresses.join(',')]);\r\n\r\n  return { verifications, isLoading };\r\n}"],"names":[],"mappings":";;;;AAGgC;AAHhC;AACA;;;;AAEA,MAAM,yBAA0B,kOAAO,CAAC,GAAG,CAAC,yBAAyB,IAAI;AAEzE,MAAM,qBAAqB;IACzB;QACE,QAAQ;YAAC;gBAAE,MAAM;gBAAI,MAAM;YAAU;SAAE;QACvC,MAAM;QACN,SAAS;YAAC;gBAAE,MAAM;gBAAI,MAAM;YAAO;SAAE;QACrC,iBAAiB;QACjB,MAAM;IACR;CACD;AAMM,SAAS,wBAAwB,SAAmB;;IACzD,2CAA2C;IAC3C,MAAM,YAAY,IAAA,+NAAO;sDAAC,IACxB,UAAU,GAAG;8DAAC,CAAA,UAAW,CAAC;wBACxB,SAAS;wBACT,KAAK;wBACL,cAAc;wBACd,MAAM;4BAAC;yBAAyB;oBAClC,CAAC;;qDACD;QAAC,UAAU,IAAI,CAAC;KAAK;IAGvB,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG,IAAA,+OAAgB,EAAC;QAC3C;QACA,OAAO;YACL,SAAS,UAAU,MAAM,GAAG;QAC9B;IACF;IAEA,+BAA+B;IAC/B,MAAM,gBAAgB,IAAA,+NAAO;0DAAC;YAC5B,MAAM,SAAkC,CAAC;YAEzC,IAAI,MAAM;gBACR,UAAU,OAAO;sEAAC,CAAC,SAAS;wBAC1B,MAAM,CAAC,QAAQ,GAAG,AAAC,IAAI,CAAC,MAAM,EAAE,UAAsB;oBACxD;;YACF;YAEA,OAAO;QACT;yDAAG;QAAC;QAAM,UAAU,IAAI,CAAC;KAAK;IAE9B,OAAO;QAAE;QAAe;IAAU;AACpC;GAjCgB;;QAYc,+OAAgB"}},
    {"offset": {"line": 2017, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/Folder/BlockBelle/next-frontend/src/components/MainChat.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, useCallback } from 'react';\r\nimport { useAccount, useReadContract, useWriteContract, useWatchContractEvent } from 'wagmi';\r\nimport { parseAbi } from 'viem';\r\nimport {\r\n  UserIcon,\r\n  ChatBubbleLeftRightIcon,\r\n  PhoneIcon,\r\n  VideoCameraIcon,\r\n  MagnifyingGlassIcon,\r\n  PaperClipIcon,\r\n  FaceSmileIcon,\r\n  EllipsisVerticalIcon,\r\n  CheckCircleIcon\r\n} from '@heroicons/react/24/outline'\r\nimport MembersList from './MembersList';\r\nimport { CONTRACT_ADDRESSES } from '@/config/contracts';\r\nimport { getUserDetailsFromContract } from '@/utils/contractReads';\r\nimport Tier3Badge from '@/components/Tier3Badge';\r\nimport { useBulkSelfVerification } from '@/hooks/useBulkSelfVerification';\r\n\r\nconst registryAbi = parseAbi([\r\n  'function getAllUsers() external view returns (address[])',\r\n  'function getUserDetails(address userAddress) external view returns (string memory ensName, string memory avatarHash, bool registered)',\r\n])\r\n\r\nconst chatAbi = parseAbi([\r\n  'function sendMessage(address to, string content) external',\r\n  'function getConversation(address user1, address user2) external view returns ((address sender, address receiver, string content, uint256 timestamp)[])',\r\n])\r\n\r\ninterface Message {\r\n  sender: string\r\n  content: string\r\n  timestamp: bigint\r\n  type: 'private' | 'group'\r\n  chatId?: string\r\n}\r\n\r\ninterface Chat {\r\n  id: string\r\n  name: string\r\n  type: 'private' | 'group'\r\n  lastMessage?: string\r\n  lastMessageTime?: bigint\r\n  unreadCount: number\r\n  avatar?: string\r\n  isOnline?: boolean\r\n}\r\n\r\ninterface MainChatProps {\r\n  onClose?: () => void\r\n}\r\n\r\nexport default function MainChat({ onClose }: MainChatProps) {\r\n  const { address } = useAccount()\r\n  const { writeContract } = useWriteContract()\r\n  const [selectedChat, setSelectedChat] = useState<Chat | null>(null)\r\n  const [messages, setMessages] = useState<Message[]>([])\r\n  const [newMessage, setNewMessage] = useState('')\r\n  const [chats, setChats] = useState<Chat[]>([])\r\n  const [showMembersList, setShowMembersList] = useState(false)\r\n  const [searchTerm, setSearchTerm] = useState('')\r\n  const [userNames, setUserNames] = useState<Map<string, string>>(new Map())\r\n  const [isLoadingMessages, setIsLoadingMessages] = useState(false)\r\n\r\n  // Get on-chain verification status for selected chat user\r\n  const recipientAddress = selectedChat?.id.replace('private_', '') as `0x${string}` | undefined\r\n  const { verifications: userVerifications } = useBulkSelfVerification(\r\n    recipientAddress ? [recipientAddress] : []\r\n  )\r\n\r\n  // Fetch real registered users from smart contract\r\n  const { data: allUsers, refetch: refetchUsers } = useReadContract({\r\n    address: CONTRACT_ADDRESSES.registry,\r\n    abi: registryAbi,\r\n    functionName: 'getAllUsers',\r\n  })\r\n\r\n  // Fetch usernames for all users\r\n  useEffect(() => {\r\n    if (!allUsers || allUsers.length === 0) return\r\n\r\n    const namesMap = new Map<string, string>()\r\n\r\n    // Create initial mapping with cached usernames or address fallbacks\r\n    allUsers.forEach((userAddress) => {\r\n      if (userAddress.toLowerCase() !== address?.toLowerCase()) {\r\n        const cachedName = localStorage.getItem(`username_${userAddress}`)\r\n        if (cachedName) {\r\n          namesMap.set(userAddress, cachedName)\r\n        } else {\r\n          namesMap.set(userAddress, `${userAddress.slice(0, 6)}...${userAddress.slice(-4)}`)\r\n        }\r\n      }\r\n    })\r\n\r\n    setUserNames(namesMap)\r\n\r\n    // Create chats with usernames\r\n    const realChats: Chat[] = allUsers\r\n      .filter(userAddress => userAddress.toLowerCase() !== address?.toLowerCase())\r\n      .map((userAddress) => ({\r\n        id: `private_${userAddress}`,\r\n        name: namesMap.get(userAddress) || `${userAddress.slice(0, 6)}...${userAddress.slice(-4)}`,\r\n        type: 'private' as const,\r\n        lastMessage: '',\r\n        lastMessageTime: 0n,\r\n        unreadCount: 0,\r\n        isOnline: Math.random() > 0.5\r\n      }))\r\n    setChats(realChats)\r\n\r\n    // Try to fetch actual usernames for users without cached names\r\n    allUsers.forEach((userAddress) => {\r\n      if (userAddress.toLowerCase() !== address?.toLowerCase()) {\r\n        const cachedName = localStorage.getItem(`username_${userAddress}`)\r\n        if (!cachedName) {\r\n          // Use the contract reading utility to fetch actual username\r\n          try {\r\n            const fetchUsername = async () => {\r\n              try {\r\n                const userDetails = await getUserDetailsFromContract(userAddress)\r\n\r\n                if (userDetails && userDetails.registered) {\r\n                  const actualUsername = userDetails.ensName || `${userAddress.slice(0, 6)}...${userAddress.slice(-4)}`\r\n\r\n                  // Cache the actual username\r\n                  localStorage.setItem(`username_${userAddress}`, actualUsername)\r\n\r\n                  // Update the names map\r\n                  namesMap.set(userAddress, actualUsername)\r\n                  setUserNames(new Map(namesMap))\r\n\r\n                  // Update chats with new username\r\n                  setChats(prev => prev.map(chat =>\r\n                    chat.id === `private_${userAddress}`\r\n                      ? { ...chat, name: actualUsername }\r\n                      : chat\r\n                  ))\r\n                }\r\n              } catch (error) {\r\n                console.error('Error fetching username from contract:', error)\r\n              }\r\n            }\r\n\r\n            // Fetch with a small delay to avoid overwhelming the network\r\n            setTimeout(fetchUsername, Math.random() * 1000)\r\n          } catch (error) {\r\n            console.error('Error setting up username fetch:', error)\r\n          }\r\n        }\r\n      }\r\n    })\r\n  }, [allUsers, address])\r\n\r\n  // Usernames are now handled in the other useEffect above\r\n\r\n  // Fetch messages for selected chat using wagmi\r\n  const { data: conversation, refetch: refetchMessages } = useReadContract({\r\n    address: CONTRACT_ADDRESSES.chat,\r\n    abi: chatAbi,\r\n    functionName: 'getConversation',\r\n    args: address && recipientAddress ? [address, recipientAddress] : undefined,\r\n    query: {\r\n      enabled: !!address && !!recipientAddress,\r\n    },\r\n  })\r\n\r\n  // Update messages when conversation data changes\r\n  useEffect(() => {\r\n    if (conversation) {\r\n      const formattedMessages: Message[] = conversation.map((msg: any) => ({\r\n        sender: msg.sender,\r\n        content: msg.content,\r\n        timestamp: BigInt(msg.timestamp),\r\n        type: 'private',\r\n        chatId: selectedChat?.id || ''\r\n      }))\r\n      setMessages(formattedMessages)\r\n    }\r\n  }, [conversation, selectedChat])\r\n\r\n  // Watch for new messages\r\n  useWatchContractEvent({\r\n    address: CONTRACT_ADDRESSES.chat,\r\n    abi: chatAbi,\r\n    eventName: 'MessageSent',\r\n    onLogs(logs) {\r\n      logs.forEach((log: any) => {\r\n        const { from, to, message, timestamp } = log.args\r\n\r\n        // Check if this message is for current user or from current chat\r\n        if ((to === address && selectedChat?.id === `private_${from}`) ||\r\n          (from === address && selectedChat?.id === `private_${to}`)) {\r\n\r\n          const newMessage: Message = {\r\n            sender: from,\r\n            content: message,\r\n            timestamp: BigInt(timestamp),\r\n            type: 'private',\r\n            chatId: selectedChat.id\r\n          }\r\n\r\n          setMessages(prev => {\r\n            // Avoid duplicates\r\n            const exists = prev.some(msg =>\r\n              msg.sender === from &&\r\n              msg.content === message &&\r\n              msg.timestamp === BigInt(timestamp)\r\n            )\r\n            return exists ? prev : [...prev, newMessage]\r\n          })\r\n\r\n          // Update last message in chats\r\n          setChats(prev => prev.map(chat =>\r\n            chat.id === selectedChat.id\r\n              ? { ...chat, lastMessage: message, lastMessageTime: BigInt(timestamp), unreadCount: 0 }\r\n              : chat\r\n          ))\r\n        }\r\n      })\r\n    },\r\n  })\r\n\r\n  const handleSendMessage = async () => {\r\n    if (!newMessage.trim() || !selectedChat) return\r\n\r\n    try {\r\n      // Extract recipient address from chat ID\r\n      const recipientAddress = selectedChat.id.replace('private_', '') as `0x${string}`\r\n\r\n      // Send message to blockchain\r\n      await writeContract({\r\n        address: CONTRACT_ADDRESSES.chat,\r\n        abi: chatAbi,\r\n        functionName: 'sendMessage',\r\n        args: [recipientAddress, newMessage],\r\n      })\r\n\r\n      // Add message to local state for immediate UI feedback\r\n      const message: Message = {\r\n        sender: address!,\r\n        content: newMessage,\r\n        timestamp: BigInt(Date.now()),\r\n        type: selectedChat.type,\r\n        chatId: selectedChat.id\r\n      }\r\n\r\n      setMessages(prev => [...prev, message])\r\n      setNewMessage('')\r\n\r\n      // Update last message in chats\r\n      setChats(prev => prev.map(chat =>\r\n        chat.id === selectedChat.id\r\n          ? { ...chat, lastMessage: newMessage, lastMessageTime: BigInt(Date.now()), unreadCount: 0 }\r\n          : chat\r\n      ))\r\n    } catch (error: any) {\r\n      console.error('Failed to send message:', error)\r\n      alert('Failed to send message: ' + (error.message || 'Unknown error'))\r\n    }\r\n  }\r\n\r\n  const handleChatSelect = (chat: Chat) => {\r\n    setSelectedChat(chat)\r\n    setMessages([]) // In real app, load messages for this chat\r\n    // Mark as read\r\n    setChats(prev => prev.map(c =>\r\n      c.id === chat.id ? { ...c, unreadCount: 0 } : c\r\n    ))\r\n  }\r\n\r\n  const handleUserSelect = (member: { address: string; ensName: string }) => {\r\n    const existingChat = chats.find(c => c.id === `private_${member.address}`)\r\n    if (existingChat) {\r\n      handleChatSelect(existingChat)\r\n    } else {\r\n      const newChat: Chat = {\r\n        id: `private_${member.address}`,\r\n        name: member.ensName,\r\n        type: 'private',\r\n        unreadCount: 0,\r\n        isOnline: Math.random() > 0.5\r\n      }\r\n      setChats(prev => [newChat, ...prev])\r\n      handleChatSelect(newChat)\r\n    }\r\n    setShowMembersList(false)\r\n  }\r\n\r\n  const formatTime = (timestamp: bigint) => {\r\n    try {\r\n      const timestampNum = Number(timestamp)\r\n\r\n      // Check if timestamp is 0 or invalid\r\n      if (timestampNum === 0 || timestampNum < 1000000000) {\r\n        return 'now'\r\n      }\r\n\r\n      const date = new Date(timestampNum * 1000) // Convert from seconds to milliseconds\r\n      const now = new Date()\r\n      const diff = now.getTime() - date.getTime()\r\n\r\n      if (diff < 60000) return 'now'\r\n      if (diff < 3600000) return `${Math.floor(diff / 60000)}m ago`\r\n      if (diff < 86400000) return `${Math.floor(diff / 3600000)}h ago`\r\n      return date.toLocaleDateString()\r\n    } catch (error) {\r\n      console.error('Error formatting time:', error)\r\n      return 'now'\r\n    }\r\n  }\r\n\r\n  const filteredChats = chats.filter(chat =>\r\n    chat.name.toLowerCase().includes(searchTerm.toLowerCase())\r\n  )\r\n\r\n  return (\r\n    <div className=\"flex h-screen bg-gray-100\">\r\n      {/* Sidebar */}\r\n      <div className={`bg-white border-r border-gray-200 flex-col ${selectedChat ? 'hidden md:flex' : 'flex'} w-full md:w-80`}>\r\n        {/* Header */}\r\n        <div className=\"p-4 border-b border-gray-200 bg-white\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <h1 className=\"text-xl font-bold text-gray-900\">BlockBelle Chat</h1>\r\n            <div className=\"flex space-x-2\">\r\n              <button\r\n                onClick={() => setShowMembersList(!showMembersList)}\r\n                className=\"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-full\"\r\n                title=\"Add Contact\"\r\n              >\r\n                <UserIcon className=\"h-5 w-5\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Search */}\r\n          <div className=\"relative\">\r\n            <MagnifyingGlassIcon className=\"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\r\n            <input\r\n              type=\"text\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              placeholder=\"Search chats...\"\r\n              className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Chats List */}\r\n        <div className=\"flex-1 overflow-y-auto\">\r\n          {filteredChats.map((chat) => (\r\n            <div\r\n              key={chat.id}\r\n              onClick={() => handleChatSelect(chat)}\r\n              className={`p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 ${selectedChat?.id === chat.id ? 'bg-blue-50 border-r-2 border-r-blue-500' : ''\r\n                }`}\r\n            >\r\n              <div className=\"flex items-center space-x-3\">\r\n                <div className=\"relative\">\r\n                  <div className=\"w-12 h-12 bg-gradient-to-r from-pink-400 to-purple-500 rounded-full flex items-center justify-center\">\r\n                    <span className=\"text-white font-medium\">\r\n                      {chat.name.charAt(0).toUpperCase()}\r\n                    </span>\r\n                  </div>\r\n                  {chat.isOnline && (\r\n                    <div className=\"absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-white rounded-full\"></div>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"flex-1 min-w-0\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <h3 className=\"font-semibold text-gray-900 truncate\">{chat.name}</h3>\r\n                    {chat.lastMessageTime ? (\r\n                      <span className=\"text-xs text-gray-500\">\r\n                        {formatTime(chat.lastMessageTime)}\r\n                      </span>\r\n                    ) : null}\r\n                  </div>\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <p className=\"text-sm text-gray-600 truncate\">\r\n                      {chat.lastMessage || 'No messages yet'}\r\n                    </p>\r\n                    {chat.unreadCount > 0 && (\r\n                      <span className=\"bg-blue-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center\">\r\n                        {chat.unreadCount}\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Members List Sidebar */}\r\n      {showMembersList && (\r\n        <div className=\"w-80 bg-white border-r border-gray-200\">\r\n          <div className=\"p-4 border-b border-gray-200\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <h2 className=\"text-lg font-semibold text-gray-900\">Add Contact</h2>\r\n              <button\r\n                onClick={() => setShowMembersList(false)}\r\n                className=\"text-gray-500 hover:text-gray-700\"\r\n              >\r\n                ✕\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <MembersList onSelectUser={handleUserSelect} showChatButton={false} />\r\n        </div>\r\n      )}\r\n\r\n      {/* Main Chat Area */}\r\n      <div className={`flex-1 flex-col ${!selectedChat ? 'hidden md:flex' : 'flex'}`}>\r\n        {selectedChat ? (\r\n          <>\r\n            {/* Chat Header */}\r\n            <div className=\"bg-white border-b border-gray-200 p-4 flex items-center justify-between\">\r\n              <div className=\"flex items-center space-x-3\">\r\n                {/* Back Button for Mobile */}\r\n                <button\r\n                  onClick={() => setSelectedChat(null)}\r\n                  className=\"md:hidden p-2 -ml-2 text-gray-600 hover:text-gray-900\"\r\n                >\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className=\"w-6 h-6\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18\" />\r\n                  </svg>\r\n                </button>\r\n                <div className=\"relative\">\r\n                  <div className=\"w-10 h-10 bg-gradient-to-r from-pink-400 to-purple-500 rounded-full flex items-center justify-center\">\r\n                    <span className=\"text-white font-medium\">\r\n                      {selectedChat.name.charAt(0).toUpperCase()}\r\n                    </span>\r\n                  </div>\r\n                  {selectedChat.isOnline && (\r\n                    <div className=\"absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-white rounded-full\"></div>\r\n                  )}\r\n                </div>\r\n                <div>\r\n                  <div className=\"flex items-center gap-1.5\">\r\n                    <h2 className=\"font-semibold text-gray-900\">{selectedChat.name}</h2>\r\n                    {recipientAddress && userVerifications[recipientAddress] && <Tier3Badge size=\"sm\" />}\r\n                  </div>\r\n                  <p className=\"text-sm text-gray-500\">\r\n                    {selectedChat.isOnline ? 'Online' : 'Offline'}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex space-x-2\">\r\n                <button className=\"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-full\">\r\n                  <PhoneIcon className=\"h-5 w-5\" />\r\n                </button>\r\n                <button className=\"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-full\">\r\n                  <VideoCameraIcon className=\"h-5 w-5\" />\r\n                </button>\r\n                <button className=\"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-full\">\r\n                  <EllipsisVerticalIcon className=\"h-5 w-5\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Messages */}\r\n            <div className=\"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50\">\r\n              {messages.length === 0 ? (\r\n                <div className=\"text-center py-12\">\r\n                  <ChatBubbleLeftRightIcon className=\"h-16 w-16 text-gray-300 mx-auto mb-4\" />\r\n                  <p className=\"text-gray-500 text-lg\">No messages yet</p>\r\n                  <p className=\"text-gray-400 text-sm\">Start the conversation!</p>\r\n                </div>\r\n              ) : (\r\n                messages.map((msg, index) => {\r\n                  const isOwnMessage = msg.sender === address;\r\n                  const senderVerified = !isOwnMessage && userVerifications[msg.sender];\r\n\r\n                  return (\r\n                    <div key={index} className={`flex ${isOwnMessage ? 'justify-end' : 'justify-start'}`}>\r\n                      <div className={`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${isOwnMessage\r\n                        ? 'bg-blue-500 text-white'\r\n                        : 'bg-white text-gray-900 shadow-sm'\r\n                        }`}>\r\n                        {!isOwnMessage && (\r\n                          <div className=\"flex items-center gap-1 mb-1\">\r\n                            <p className=\"text-xs font-semibold text-gray-700\">\r\n                              {userNames.get(msg.sender) || `${msg.sender.slice(0, 6)}...${msg.sender.slice(-4)}`}\r\n                            </p>\r\n                            {senderVerified && <Tier3Badge size=\"sm\" />}\r\n                          </div>\r\n                        )}\r\n                        <p>{msg.content}</p>\r\n                        <div className={`text-xs mt-1 ${isOwnMessage ? 'text-blue-100' : 'text-gray-500'\r\n                          }`}>\r\n                          {formatTime(msg.timestamp)}\r\n                          {isOwnMessage && (\r\n                            <CheckCircleIcon className=\"h-3 w-3 inline ml-1\" />\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })\r\n              )}\r\n            </div>\r\n\r\n            {/* Message Input */}\r\n            <div className=\"bg-white border-t border-gray-200 p-4\">\r\n              <div className=\"flex items-center space-x-3\">\r\n                <button className=\"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-full\">\r\n                  <PaperClipIcon className=\"h-5 w-5\" />\r\n                </button>\r\n                <input\r\n                  type=\"text\"\r\n                  value={newMessage}\r\n                  onChange={(e) => setNewMessage(e.target.value)}\r\n                  placeholder=\"Type a message...\"\r\n                  className=\"flex-1 px-4 py-2 border border-gray-300 rounded-full focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                  onKeyPress={(e) => e.key === 'Enter' && handleSendMessage()}\r\n                />\r\n                <button className=\"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-full\">\r\n                  <FaceSmileIcon className=\"h-5 w-5\" />\r\n                </button>\r\n                <button\r\n                  onClick={handleSendMessage}\r\n                  className=\"bg-blue-500 hover:bg-blue-600 text-white p-2 rounded-full\"\r\n                >\r\n                  <svg className=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\" />\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </>\r\n        ) : (\r\n          <div className=\"flex-1 flex items-center justify-center bg-gray-50\">\r\n            <div className=\"text-center\">\r\n              <ChatBubbleLeftRightIcon className=\"h-24 w-24 text-gray-300 mx-auto mb-6\" />\r\n              <h2 className=\"text-2xl font-semibold text-gray-600 mb-2\">Welcome to BlockBelle Chat</h2>\r\n              <p className=\"text-gray-500 mb-6\">You're registered and ready to start chatting!</p>\r\n              <div className=\"space-y-3\">\r\n                <p className=\"text-sm text-gray-400\">Choose how to start:</p>\r\n                <div className=\"flex flex-col sm:flex-row gap-3 justify-center\">\r\n                  <button\r\n                    onClick={() => setShowMembersList(true)}\r\n                    className=\"bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg font-medium transition-colors\"\r\n                  >\r\n                    Find Members to Chat\r\n                  </button>\r\n                  <button\r\n                    onClick={() => {/* Navigate to group chat */ }}\r\n                    className=\"bg-purple-500 hover:bg-purple-600 text-white px-6 py-3 rounded-lg font-medium transition-colors\"\r\n                  >\r\n                    Create Group Chat\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AACA;AACA;AACA;AACA;;;AApBA;;;;;;;;;;AAsBA,MAAM,cAAc,IAAA,6OAAQ,EAAC;IAC3B;IACA;CACD;AAED,MAAM,UAAU,IAAA,6OAAQ,EAAC;IACvB;IACA;CACD;AAyBc,SAAS,SAAS,EAAE,OAAO,EAAiB;;IACzD,MAAM,EAAE,OAAO,EAAE,GAAG,IAAA,mOAAU;IAC9B,MAAM,EAAE,aAAa,EAAE,GAAG,IAAA,+OAAgB;IAC1C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,gOAAQ,EAAc;IAC9D,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,gOAAQ,EAAY,EAAE;IACtD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,gOAAQ,EAAC;IAC7C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,gOAAQ,EAAS,EAAE;IAC7C,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,gOAAQ,EAAC;IACvD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,gOAAQ,EAAC;IAC7C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,gOAAQ,EAAsB,IAAI;IACpE,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,gOAAQ,EAAC;IAE3D,0DAA0D;IAC1D,MAAM,mBAAmB,cAAc,GAAG,QAAQ,YAAY;IAC9D,MAAM,EAAE,eAAe,iBAAiB,EAAE,GAAG,IAAA,4NAAuB,EAClE,mBAAmB;QAAC;KAAiB,GAAG,EAAE;IAG5C,kDAAkD;IAClD,MAAM,EAAE,MAAM,QAAQ,EAAE,SAAS,YAAY,EAAE,GAAG,IAAA,6OAAe,EAAC;QAChE,SAAS,0MAAkB,CAAC,QAAQ;QACpC,KAAK;QACL,cAAc;IAChB;IAEA,gCAAgC;IAChC,IAAA,iOAAS;8BAAC;YACR,IAAI,CAAC,YAAY,SAAS,MAAM,KAAK,GAAG;YAExC,MAAM,WAAW,IAAI;YAErB,oEAAoE;YACpE,SAAS,OAAO;sCAAC,CAAC;oBAChB,IAAI,YAAY,WAAW,OAAO,SAAS,eAAe;wBACxD,MAAM,aAAa,aAAa,OAAO,CAAC,CAAC,SAAS,EAAE,aAAa;wBACjE,IAAI,YAAY;4BACd,SAAS,GAAG,CAAC,aAAa;wBAC5B,OAAO;4BACL,SAAS,GAAG,CAAC,aAAa,GAAG,YAAY,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,YAAY,KAAK,CAAC,CAAC,IAAI;wBACnF;oBACF;gBACF;;YAEA,aAAa;YAEb,8BAA8B;YAC9B,MAAM,YAAoB,SACvB,MAAM;gDAAC,CAAA,cAAe,YAAY,WAAW,OAAO,SAAS;+CAC7D,GAAG;gDAAC,CAAC,cAAgB,CAAC;wBACrB,IAAI,CAAC,QAAQ,EAAE,aAAa;wBAC5B,MAAM,SAAS,GAAG,CAAC,gBAAgB,GAAG,YAAY,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,YAAY,KAAK,CAAC,CAAC,IAAI;wBAC1F,MAAM;wBACN,aAAa;wBACb,iBAAiB,EAAE;wBACnB,aAAa;wBACb,UAAU,KAAK,MAAM,KAAK;oBAC5B,CAAC;;YACH,SAAS;YAET,+DAA+D;YAC/D,SAAS,OAAO;sCAAC,CAAC;oBAChB,IAAI,YAAY,WAAW,OAAO,SAAS,eAAe;wBACxD,MAAM,aAAa,aAAa,OAAO,CAAC,CAAC,SAAS,EAAE,aAAa;wBACjE,IAAI,CAAC,YAAY;4BACf,4DAA4D;4BAC5D,IAAI;gCACF,MAAM;wEAAgB;wCACpB,IAAI;4CACF,MAAM,cAAc,MAAM,IAAA,qNAA0B,EAAC;4CAErD,IAAI,eAAe,YAAY,UAAU,EAAE;gDACzC,MAAM,iBAAiB,YAAY,OAAO,IAAI,GAAG,YAAY,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,YAAY,KAAK,CAAC,CAAC,IAAI;gDAErG,4BAA4B;gDAC5B,aAAa,OAAO,CAAC,CAAC,SAAS,EAAE,aAAa,EAAE;gDAEhD,uBAAuB;gDACvB,SAAS,GAAG,CAAC,aAAa;gDAC1B,aAAa,IAAI,IAAI;gDAErB,iCAAiC;gDACjC;wFAAS,CAAA,OAAQ,KAAK,GAAG;gGAAC,CAAA,OACxB,KAAK,EAAE,KAAK,CAAC,QAAQ,EAAE,aAAa,GAChC;oEAAE,GAAG,IAAI;oEAAE,MAAM;gEAAe,IAChC;;;4CAER;wCACF,EAAE,OAAO,OAAO;4CACd,QAAQ,KAAK,CAAC,0CAA0C;wCAC1D;oCACF;;gCAEA,6DAA6D;gCAC7D,WAAW,eAAe,KAAK,MAAM,KAAK;4BAC5C,EAAE,OAAO,OAAO;gCACd,QAAQ,KAAK,CAAC,oCAAoC;4BACpD;wBACF;oBACF;gBACF;;QACF;6BAAG;QAAC;QAAU;KAAQ;IAEtB,yDAAyD;IAEzD,+CAA+C;IAC/C,MAAM,EAAE,MAAM,YAAY,EAAE,SAAS,eAAe,EAAE,GAAG,IAAA,6OAAe,EAAC;QACvE,SAAS,0MAAkB,CAAC,IAAI;QAChC,KAAK;QACL,cAAc;QACd,MAAM,WAAW,mBAAmB;YAAC;YAAS;SAAiB,GAAG;QAClE,OAAO;YACL,SAAS,CAAC,CAAC,WAAW,CAAC,CAAC;QAC1B;IACF;IAEA,iDAAiD;IACjD,IAAA,iOAAS;8BAAC;YACR,IAAI,cAAc;gBAChB,MAAM,oBAA+B,aAAa,GAAG;4DAAC,CAAC,MAAa,CAAC;4BACnE,QAAQ,IAAI,MAAM;4BAClB,SAAS,IAAI,OAAO;4BACpB,WAAW,OAAO,IAAI,SAAS;4BAC/B,MAAM;4BACN,QAAQ,cAAc,MAAM;wBAC9B,CAAC;;gBACD,YAAY;YACd;QACF;6BAAG;QAAC;QAAc;KAAa;IAE/B,yBAAyB;IACzB,IAAA,yPAAqB,EAAC;QACpB,SAAS,0MAAkB,CAAC,IAAI;QAChC,KAAK;QACL,WAAW;QACX,QAAO,IAAI;YACT,KAAK,OAAO;kDAAC,CAAC;oBACZ,MAAM,EAAE,IAAI,EAAE,EAAE,EAAE,OAAO,EAAE,SAAS,EAAE,GAAG,IAAI,IAAI;oBAEjD,iEAAiE;oBACjE,IAAI,AAAC,OAAO,WAAW,cAAc,OAAO,CAAC,QAAQ,EAAE,MAAM,IAC1D,SAAS,WAAW,cAAc,OAAO,CAAC,QAAQ,EAAE,IAAI,EAAG;wBAE5D,MAAM,aAAsB;4BAC1B,QAAQ;4BACR,SAAS;4BACT,WAAW,OAAO;4BAClB,MAAM;4BACN,QAAQ,aAAa,EAAE;wBACzB;wBAEA;8DAAY,CAAA;gCACV,mBAAmB;gCACnB,MAAM,SAAS,KAAK,IAAI;6EAAC,CAAA,MACvB,IAAI,MAAM,KAAK,QACf,IAAI,OAAO,KAAK,WAChB,IAAI,SAAS,KAAK,OAAO;;gCAE3B,OAAO,SAAS,OAAO;uCAAI;oCAAM;iCAAW;4BAC9C;;wBAEA,+BAA+B;wBAC/B;8DAAS,CAAA,OAAQ,KAAK,GAAG;sEAAC,CAAA,OACxB,KAAK,EAAE,KAAK,aAAa,EAAE,GACvB;4CAAE,GAAG,IAAI;4CAAE,aAAa;4CAAS,iBAAiB,OAAO;4CAAY,aAAa;wCAAE,IACpF;;;oBAER;gBACF;;QACF;IACF;IAEA,MAAM,oBAAoB;QACxB,IAAI,CAAC,WAAW,IAAI,MAAM,CAAC,cAAc;QAEzC,IAAI;YACF,yCAAyC;YACzC,MAAM,mBAAmB,aAAa,EAAE,CAAC,OAAO,CAAC,YAAY;YAE7D,6BAA6B;YAC7B,MAAM,cAAc;gBAClB,SAAS,0MAAkB,CAAC,IAAI;gBAChC,KAAK;gBACL,cAAc;gBACd,MAAM;oBAAC;oBAAkB;iBAAW;YACtC;YAEA,uDAAuD;YACvD,MAAM,UAAmB;gBACvB,QAAQ;gBACR,SAAS;gBACT,WAAW,OAAO,KAAK,GAAG;gBAC1B,MAAM,aAAa,IAAI;gBACvB,QAAQ,aAAa,EAAE;YACzB;YAEA,YAAY,CAAA,OAAQ;uBAAI;oBAAM;iBAAQ;YACtC,cAAc;YAEd,+BAA+B;YAC/B,SAAS,CAAA,OAAQ,KAAK,GAAG,CAAC,CAAA,OACxB,KAAK,EAAE,KAAK,aAAa,EAAE,GACvB;wBAAE,GAAG,IAAI;wBAAE,aAAa;wBAAY,iBAAiB,OAAO,KAAK,GAAG;wBAAK,aAAa;oBAAE,IACxF;QAER,EAAE,OAAO,OAAY;YACnB,QAAQ,KAAK,CAAC,2BAA2B;YACzC,MAAM,6BAA6B,CAAC,MAAM,OAAO,IAAI,eAAe;QACtE;IACF;IAEA,MAAM,mBAAmB,CAAC;QACxB,gBAAgB;QAChB,YAAY,EAAE,GAAE,2CAA2C;QAC3D,eAAe;QACf,SAAS,CAAA,OAAQ,KAAK,GAAG,CAAC,CAAA,IACxB,EAAE,EAAE,KAAK,KAAK,EAAE,GAAG;oBAAE,GAAG,CAAC;oBAAE,aAAa;gBAAE,IAAI;IAElD;IAEA,MAAM,mBAAmB,CAAC;QACxB,MAAM,eAAe,MAAM,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,CAAC,QAAQ,EAAE,OAAO,OAAO,EAAE;QACzE,IAAI,cAAc;YAChB,iBAAiB;QACnB,OAAO;YACL,MAAM,UAAgB;gBACpB,IAAI,CAAC,QAAQ,EAAE,OAAO,OAAO,EAAE;gBAC/B,MAAM,OAAO,OAAO;gBACpB,MAAM;gBACN,aAAa;gBACb,UAAU,KAAK,MAAM,KAAK;YAC5B;YACA,SAAS,CAAA,OAAQ;oBAAC;uBAAY;iBAAK;YACnC,iBAAiB;QACnB;QACA,mBAAmB;IACrB;IAEA,MAAM,aAAa,CAAC;QAClB,IAAI;YACF,MAAM,eAAe,OAAO;YAE5B,qCAAqC;YACrC,IAAI,iBAAiB,KAAK,eAAe,YAAY;gBACnD,OAAO;YACT;YAEA,MAAM,OAAO,IAAI,KAAK,eAAe,MAAM,uCAAuC;;YAClF,MAAM,MAAM,IAAI;YAChB,MAAM,OAAO,IAAI,OAAO,KAAK,KAAK,OAAO;YAEzC,IAAI,OAAO,OAAO,OAAO;YACzB,IAAI,OAAO,SAAS,OAAO,GAAG,KAAK,KAAK,CAAC,OAAO,OAAO,KAAK,CAAC;YAC7D,IAAI,OAAO,UAAU,OAAO,GAAG,KAAK,KAAK,CAAC,OAAO,SAAS,KAAK,CAAC;YAChE,OAAO,KAAK,kBAAkB;QAChC,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B;YACxC,OAAO;QACT;IACF;IAEA,MAAM,gBAAgB,MAAM,MAAM,CAAC,CAAA,OACjC,KAAK,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,WAAW,WAAW;IAGzD,qBACE,oPAAC;QAAI,WAAU;;0BAEb,oPAAC;gBAAI,WAAW,CAAC,2CAA2C,EAAE,eAAe,mBAAmB,OAAO,eAAe,CAAC;;kCAErH,oPAAC;wBAAI,WAAU;;0CACb,oPAAC;gCAAI,WAAU;;kDACb,oPAAC;wCAAG,WAAU;kDAAkC;;;;;;kDAChD,oPAAC;wCAAI,WAAU;kDACb,cAAA,oPAAC;4CACC,SAAS,IAAM,mBAAmB,CAAC;4CACnC,WAAU;4CACV,OAAM;sDAEN,cAAA,oPAAC,qRAAQ;gDAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;0CAM1B,oPAAC;gCAAI,WAAU;;kDACb,oPAAC,sTAAmB;wCAAC,WAAU;;;;;;kDAC/B,oPAAC;wCACC,MAAK;wCACL,OAAO;wCACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;wCAC7C,aAAY;wCACZ,WAAU;;;;;;;;;;;;;;;;;;kCAMhB,oPAAC;wBAAI,WAAU;kCACZ,cAAc,GAAG,CAAC,CAAC,qBAClB,oPAAC;gCAEC,SAAS,IAAM,iBAAiB;gCAChC,WAAW,CAAC,6DAA6D,EAAE,cAAc,OAAO,KAAK,EAAE,GAAG,4CAA4C,IAClJ;0CAEJ,cAAA,oPAAC;oCAAI,WAAU;;sDACb,oPAAC;4CAAI,WAAU;;8DACb,oPAAC;oDAAI,WAAU;8DACb,cAAA,oPAAC;wDAAK,WAAU;kEACb,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,WAAW;;;;;;;;;;;gDAGnC,KAAK,QAAQ,kBACZ,oPAAC;oDAAI,WAAU;;;;;;;;;;;;sDAInB,oPAAC;4CAAI,WAAU;;8DACb,oPAAC;oDAAI,WAAU;;sEACb,oPAAC;4DAAG,WAAU;sEAAwC,KAAK,IAAI;;;;;;wDAC9D,KAAK,eAAe,iBACnB,oPAAC;4DAAK,WAAU;sEACb,WAAW,KAAK,eAAe;;;;;mEAEhC;;;;;;;8DAEN,oPAAC;oDAAI,WAAU;;sEACb,oPAAC;4DAAE,WAAU;sEACV,KAAK,WAAW,IAAI;;;;;;wDAEtB,KAAK,WAAW,GAAG,mBAClB,oPAAC;4DAAK,WAAU;sEACb,KAAK,WAAW;;;;;;;;;;;;;;;;;;;;;;;;+BAhCtB,KAAK,EAAE;;;;;;;;;;;;;;;;YA4CnB,iCACC,oPAAC;gBAAI,WAAU;;kCACb,oPAAC;wBAAI,WAAU;kCACb,cAAA,oPAAC;4BAAI,WAAU;;8CACb,oPAAC;oCAAG,WAAU;8CAAsC;;;;;;8CACpD,oPAAC;oCACC,SAAS,IAAM,mBAAmB;oCAClC,WAAU;8CACX;;;;;;;;;;;;;;;;;kCAKL,oPAAC,sMAAW;wBAAC,cAAc;wBAAkB,gBAAgB;;;;;;;;;;;;0BAKjE,oPAAC;gBAAI,WAAW,CAAC,gBAAgB,EAAE,CAAC,eAAe,mBAAmB,QAAQ;0BAC3E,6BACC;;sCAEE,oPAAC;4BAAI,WAAU;;8CACb,oPAAC;oCAAI,WAAU;;sDAEb,oPAAC;4CACC,SAAS,IAAM,gBAAgB;4CAC/B,WAAU;sDAEV,cAAA,oPAAC;gDAAI,OAAM;gDAA6B,MAAK;gDAAO,SAAQ;gDAAY,aAAa;gDAAK,QAAO;gDAAe,WAAU;0DACxH,cAAA,oPAAC;oDAAK,eAAc;oDAAQ,gBAAe;oDAAQ,GAAE;;;;;;;;;;;;;;;;sDAGzD,oPAAC;4CAAI,WAAU;;8DACb,oPAAC;oDAAI,WAAU;8DACb,cAAA,oPAAC;wDAAK,WAAU;kEACb,aAAa,IAAI,CAAC,MAAM,CAAC,GAAG,WAAW;;;;;;;;;;;gDAG3C,aAAa,QAAQ,kBACpB,oPAAC;oDAAI,WAAU;;;;;;;;;;;;sDAGnB,oPAAC;;8DACC,oPAAC;oDAAI,WAAU;;sEACb,oPAAC;4DAAG,WAAU;sEAA+B,aAAa,IAAI;;;;;;wDAC7D,oBAAoB,iBAAiB,CAAC,iBAAiB,kBAAI,oPAAC,qMAAU;4DAAC,MAAK;;;;;;;;;;;;8DAE/E,oPAAC;oDAAE,WAAU;8DACV,aAAa,QAAQ,GAAG,WAAW;;;;;;;;;;;;;;;;;;8CAK1C,oPAAC;oCAAI,WAAU;;sDACb,oPAAC;4CAAO,WAAU;sDAChB,cAAA,oPAAC,wRAAS;gDAAC,WAAU;;;;;;;;;;;sDAEvB,oPAAC;4CAAO,WAAU;sDAChB,cAAA,oPAAC,0SAAe;gDAAC,WAAU;;;;;;;;;;;sDAE7B,oPAAC;4CAAO,WAAU;sDAChB,cAAA,oPAAC,yTAAoB;gDAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;sCAMtC,oPAAC;4BAAI,WAAU;sCACZ,SAAS,MAAM,KAAK,kBACnB,oPAAC;gCAAI,WAAU;;kDACb,oPAAC,kUAAuB;wCAAC,WAAU;;;;;;kDACnC,oPAAC;wCAAE,WAAU;kDAAwB;;;;;;kDACrC,oPAAC;wCAAE,WAAU;kDAAwB;;;;;;;;;;;uCAGvC,SAAS,GAAG,CAAC,CAAC,KAAK;gCACjB,MAAM,eAAe,IAAI,MAAM,KAAK;gCACpC,MAAM,iBAAiB,CAAC,gBAAgB,iBAAiB,CAAC,IAAI,MAAM,CAAC;gCAErE,qBACE,oPAAC;oCAAgB,WAAW,CAAC,KAAK,EAAE,eAAe,gBAAgB,iBAAiB;8CAClF,cAAA,oPAAC;wCAAI,WAAW,CAAC,0CAA0C,EAAE,eACzD,2BACA,oCACA;;4CACD,CAAC,8BACA,oPAAC;gDAAI,WAAU;;kEACb,oPAAC;wDAAE,WAAU;kEACV,UAAU,GAAG,CAAC,IAAI,MAAM,KAAK,GAAG,IAAI,MAAM,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,IAAI,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI;;;;;;oDAEpF,gCAAkB,oPAAC,qMAAU;wDAAC,MAAK;;;;;;;;;;;;0DAGxC,oPAAC;0DAAG,IAAI,OAAO;;;;;;0DACf,oPAAC;gDAAI,WAAW,CAAC,aAAa,EAAE,eAAe,kBAAkB,iBAC7D;;oDACD,WAAW,IAAI,SAAS;oDACxB,8BACC,oPAAC,0SAAe;wDAAC,WAAU;;;;;;;;;;;;;;;;;;mCAlBzB;;;;;4BAwBd;;;;;;sCAKJ,oPAAC;4BAAI,WAAU;sCACb,cAAA,oPAAC;gCAAI,WAAU;;kDACb,oPAAC;wCAAO,WAAU;kDAChB,cAAA,oPAAC,oSAAa;4CAAC,WAAU;;;;;;;;;;;kDAE3B,oPAAC;wCACC,MAAK;wCACL,OAAO;wCACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;wCAC7C,aAAY;wCACZ,WAAU;wCACV,YAAY,CAAC,IAAM,EAAE,GAAG,KAAK,WAAW;;;;;;kDAE1C,oPAAC;wCAAO,WAAU;kDAChB,cAAA,oPAAC,oSAAa;4CAAC,WAAU;;;;;;;;;;;kDAE3B,oPAAC;wCACC,SAAS;wCACT,WAAU;kDAEV,cAAA,oPAAC;4CAAI,WAAU;4CAAU,MAAK;4CAAO,QAAO;4CAAe,SAAQ;sDACjE,cAAA,oPAAC;gDAAK,eAAc;gDAAQ,gBAAe;gDAAQ,aAAa;gDAAG,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;iDAO/E,oPAAC;oBAAI,WAAU;8BACb,cAAA,oPAAC;wBAAI,WAAU;;0CACb,oPAAC,kUAAuB;gCAAC,WAAU;;;;;;0CACnC,oPAAC;gCAAG,WAAU;0CAA4C;;;;;;0CAC1D,oPAAC;gCAAE,WAAU;0CAAqB;;;;;;0CAClC,oPAAC;gCAAI,WAAU;;kDACb,oPAAC;wCAAE,WAAU;kDAAwB;;;;;;kDACrC,oPAAC;wCAAI,WAAU;;0DACb,oPAAC;gDACC,SAAS,IAAM,mBAAmB;gDAClC,WAAU;0DACX;;;;;;0DAGD,oPAAC;gDACC,SAAS,KAAoC;gDAC7C,WAAU;0DACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAWnB;GA9fwB;;QACF,mOAAU;QACJ,+OAAgB;QAYG,4NAAuB;QAKlB,6OAAe;QAsFR,6OAAe;QAyBxE,yPAAqB;;;KAlIC"}},
    {"offset": {"line": 3068, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/Folder/BlockBelle/next-frontend/src/hooks/useRegistration.ts"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useAccount, useReadContract } from 'wagmi';\r\nimport { parseAbi } from 'viem';\r\nimport { CONTRACT_ADDRESSES } from '@/config/contracts';\r\n\r\nconst registryAbi = parseAbi([\r\n  'function getUserDetails(address userAddress) external view returns (string memory ensName, string memory avatarHash, bool registered)',\r\n  'function isUserRegistered(address userAddress) external view returns (bool)',\r\n])\r\n\r\nexport function useRegistration() {\r\n   const { address, isConnected } = useAccount()\r\n   const [isRegistered, setIsRegistered] = useState(false)\r\n   const [ensName, setEnsName] = useState('')\r\n   const [isLoading, setIsLoading] = useState(true)\r\n\r\n   const { data: userDetails, isLoading: isLoadingUserDetails } = useReadContract({\r\n     address: CONTRACT_ADDRESSES.registry,\r\n     abi: registryAbi,\r\n     functionName: 'getUserDetails',\r\n     args: address ? [address] : undefined,\r\n     query: {\r\n       enabled: !!address && isConnected,\r\n       refetchInterval: false,\r\n       refetchOnWindowFocus: false,\r\n       refetchOnMount: false,\r\n       staleTime: Infinity,\r\n     },\r\n   })\r\n\r\n   const { data: registrationStatus, isLoading: isLoadingRegistrationStatus } = useReadContract({\r\n     address: CONTRACT_ADDRESSES.registry,\r\n     abi: registryAbi,\r\n     functionName: 'isUserRegistered',\r\n     args: address ? [address] : undefined,\r\n     query: {\r\n       enabled: !!address && isConnected,\r\n       refetchInterval: false,\r\n       refetchOnWindowFocus: false,\r\n       refetchOnMount: false,\r\n       staleTime: Infinity,\r\n     },\r\n   })\r\n\r\n   useEffect(() => {\r\n     if (isLoadingUserDetails || isLoadingRegistrationStatus) {\r\n       setIsLoading(true)\r\n       return\r\n     }\r\n\r\n     if (userDetails && registrationStatus !== undefined) {\r\n       const [name, , registered] = userDetails as [string, string, boolean]\r\n       const hasName = !!(name && name.length > 0)\r\n\r\n       setIsRegistered((prev) => {\r\n         if (prev !== registered) {\r\n           console.log('Registration status changed:', prev, '->', registered)\r\n           return registered\r\n         }\r\n         return prev\r\n       })\r\n       setEnsName((prev) => {\r\n         const newName = hasName ? name : ''\r\n         if (prev !== newName) {\r\n           return newName\r\n         }\r\n         return prev\r\n       })\r\n       setIsLoading(false)\r\n     } else {\r\n       setIsRegistered((prev) => prev !== false ? false : prev)\r\n       setEnsName((prev) => prev !== '' ? '' : prev)\r\n       setIsLoading(false)\r\n     }\r\n   }, [userDetails, registrationStatus, isLoadingUserDetails, isLoadingRegistrationStatus])\r\n\r\n   return {\r\n     isRegistered,\r\n     ensName,\r\n     isLoading,\r\n     address,\r\n     isConnected,\r\n   }\r\n}"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AACA;AACA;;;;;;AAEA,MAAM,cAAc,IAAA,6OAAQ,EAAC;IAC3B;IACA;CACD;AAEM,SAAS;;IACb,MAAM,EAAE,OAAO,EAAE,WAAW,EAAE,GAAG,IAAA,mOAAU;IAC3C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,gOAAQ,EAAC;IACjD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,gOAAQ,EAAC;IACvC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,gOAAQ,EAAC;IAE3C,MAAM,EAAE,MAAM,WAAW,EAAE,WAAW,oBAAoB,EAAE,GAAG,IAAA,6OAAe,EAAC;QAC7E,SAAS,0MAAkB,CAAC,QAAQ;QACpC,KAAK;QACL,cAAc;QACd,MAAM,UAAU;YAAC;SAAQ,GAAG;QAC5B,OAAO;YACL,SAAS,CAAC,CAAC,WAAW;YACtB,iBAAiB;YACjB,sBAAsB;YACtB,gBAAgB;YAChB,WAAW;QACb;IACF;IAEA,MAAM,EAAE,MAAM,kBAAkB,EAAE,WAAW,2BAA2B,EAAE,GAAG,IAAA,6OAAe,EAAC;QAC3F,SAAS,0MAAkB,CAAC,QAAQ;QACpC,KAAK;QACL,cAAc;QACd,MAAM,UAAU;YAAC;SAAQ,GAAG;QAC5B,OAAO;YACL,SAAS,CAAC,CAAC,WAAW;YACtB,iBAAiB;YACjB,sBAAsB;YACtB,gBAAgB;YAChB,WAAW;QACb;IACF;IAEA,IAAA,iOAAS;qCAAC;YACR,IAAI,wBAAwB,6BAA6B;gBACvD,aAAa;gBACb;YACF;YAEA,IAAI,eAAe,uBAAuB,WAAW;gBACnD,MAAM,CAAC,QAAQ,WAAW,GAAG;gBAC7B,MAAM,UAAU,CAAC,CAAC,CAAC,QAAQ,KAAK,MAAM,GAAG,CAAC;gBAE1C;iDAAgB,CAAC;wBACf,IAAI,SAAS,YAAY;4BACvB,QAAQ,GAAG,CAAC,gCAAgC,MAAM,MAAM;4BACxD,OAAO;wBACT;wBACA,OAAO;oBACT;;gBACA;iDAAW,CAAC;wBACV,MAAM,UAAU,UAAU,OAAO;wBACjC,IAAI,SAAS,SAAS;4BACpB,OAAO;wBACT;wBACA,OAAO;oBACT;;gBACA,aAAa;YACf,OAAO;gBACL;iDAAgB,CAAC,OAAS,SAAS,QAAQ,QAAQ;;gBACnD;iDAAW,CAAC,OAAS,SAAS,KAAK,KAAK;;gBACxC,aAAa;YACf;QACF;oCAAG;QAAC;QAAa;QAAoB;QAAsB;KAA4B;IAEvF,OAAO;QACL;QACA;QACA;QACA;QACA;IACF;AACH;GAzEgB;;QACoB,mOAAU;QAKoB,6OAAe;QAcD,6OAAe"}},
    {"offset": {"line": 3188, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/Folder/BlockBelle/next-frontend/src/hooks/useSelfVerification.ts"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useAccount, useReadContract } from 'wagmi';\r\n\r\nexport interface SelfVerificationData {\r\n  selfVerified: boolean;\r\n  selfDid?: string;\r\n  verifiedAt?: string;\r\n  nationality?: string;\r\n  gender?: string;\r\n  minimumAge?: string;\r\n}\r\n\r\nconst PROOF_OF_HUMAN_ADDRESS = (process.env.NEXT_PUBLIC_SELF_ENDPOINT || '0x72493afCa2789dA494DD3695d74b50DE7774336A') as `0x${string}`;\r\n\r\nconst PROOF_OF_HUMAN_ABI = [\r\n  {\r\n    inputs: [{ name: '', type: 'address' }],\r\n    name: 'isVerified',\r\n    outputs: [{ name: '', type: 'bool' }],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n  {\r\n    inputs: [{ name: '', type: 'address' }],\r\n    name: 'verificationTimestamp',\r\n    outputs: [{ name: '', type: 'uint256' }],\r\n    stateMutability: 'view',\r\n    type: 'function',\r\n  },\r\n] as const;\r\n\r\nexport function useSelfVerification() {\r\n  const { address } = useAccount();\r\n  const [verificationData, setVerificationData] = useState<SelfVerificationData>({\r\n    selfVerified: false,\r\n  });\r\n\r\n  // Read verification status from blockchain using mapping\r\n  const { data: isVerifiedOnChain, isLoading: isLoadingVerified } = useReadContract({\r\n    address: PROOF_OF_HUMAN_ADDRESS,\r\n    abi: PROOF_OF_HUMAN_ABI,\r\n    functionName: 'isVerified',\r\n    args: address ? [address] : undefined,\r\n    query: {\r\n      enabled: !!address,\r\n    }\r\n  });\r\n\r\n  // Read verification timestamp from blockchain\r\n  const { data: timestamp, isLoading: isLoadingTimestamp } = useReadContract({\r\n    address: PROOF_OF_HUMAN_ADDRESS,\r\n    abi: PROOF_OF_HUMAN_ABI,\r\n    functionName: 'verificationTimestamp',\r\n    args: address ? [address] : undefined,\r\n    query: {\r\n      enabled: !!address && !!isVerifiedOnChain,\r\n    }\r\n  });\r\n\r\n  const isLoading = isLoadingVerified || isLoadingTimestamp;\r\n\r\n  useEffect(() => {\r\n    if (!address) {\r\n      setVerificationData({ selfVerified: false });\r\n      return;\r\n    }\r\n\r\n    const verified = !!isVerifiedOnChain;\r\n    let verifiedAt: string | undefined;\r\n\r\n    if (verified && timestamp) {\r\n      // Convert Unix timestamp to ISO string\r\n      verifiedAt = new Date(Number(timestamp) * 1000).toISOString();\r\n    }\r\n\r\n    setVerificationData({\r\n      selfVerified: verified,\r\n      verifiedAt,\r\n    });\r\n  }, [address, isVerifiedOnChain, timestamp]);\r\n\r\n  // Refresh is handled automatically by wagmi's useReadContract\r\n  const refreshVerification = async () => {\r\n    // No-op: wagmi automatically refetches on block changes\r\n  };\r\n\r\n  return {\r\n    verificationData,\r\n    isLoading,\r\n    refreshVerification,\r\n  };\r\n}"],"names":[],"mappings":";;;;AAYgC;AAZhC;AACA;AAAA;;;;AAWA,MAAM,yBAA0B,kOAAO,CAAC,GAAG,CAAC,yBAAyB,IAAI;AAEzE,MAAM,qBAAqB;IACzB;QACE,QAAQ;YAAC;gBAAE,MAAM;gBAAI,MAAM;YAAU;SAAE;QACvC,MAAM;QACN,SAAS;YAAC;gBAAE,MAAM;gBAAI,MAAM;YAAO;SAAE;QACrC,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YAAC;gBAAE,MAAM;gBAAI,MAAM;YAAU;SAAE;QACvC,MAAM;QACN,SAAS;YAAC;gBAAE,MAAM;gBAAI,MAAM;YAAU;SAAE;QACxC,iBAAiB;QACjB,MAAM;IACR;CACD;AAEM,SAAS;;IACd,MAAM,EAAE,OAAO,EAAE,GAAG,IAAA,mOAAU;IAC9B,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,gOAAQ,EAAuB;QAC7E,cAAc;IAChB;IAEA,yDAAyD;IACzD,MAAM,EAAE,MAAM,iBAAiB,EAAE,WAAW,iBAAiB,EAAE,GAAG,IAAA,6OAAe,EAAC;QAChF,SAAS;QACT,KAAK;QACL,cAAc;QACd,MAAM,UAAU;YAAC;SAAQ,GAAG;QAC5B,OAAO;YACL,SAAS,CAAC,CAAC;QACb;IACF;IAEA,8CAA8C;IAC9C,MAAM,EAAE,MAAM,SAAS,EAAE,WAAW,kBAAkB,EAAE,GAAG,IAAA,6OAAe,EAAC;QACzE,SAAS;QACT,KAAK;QACL,cAAc;QACd,MAAM,UAAU;YAAC;SAAQ,GAAG;QAC5B,OAAO;YACL,SAAS,CAAC,CAAC,WAAW,CAAC,CAAC;QAC1B;IACF;IAEA,MAAM,YAAY,qBAAqB;IAEvC,IAAA,iOAAS;yCAAC;YACR,IAAI,CAAC,SAAS;gBACZ,oBAAoB;oBAAE,cAAc;gBAAM;gBAC1C;YACF;YAEA,MAAM,WAAW,CAAC,CAAC;YACnB,IAAI;YAEJ,IAAI,YAAY,WAAW;gBACzB,uCAAuC;gBACvC,aAAa,IAAI,KAAK,OAAO,aAAa,MAAM,WAAW;YAC7D;YAEA,oBAAoB;gBAClB,cAAc;gBACd;YACF;QACF;wCAAG;QAAC;QAAS;QAAmB;KAAU;IAE1C,8DAA8D;IAC9D,MAAM,sBAAsB;IAC1B,wDAAwD;IAC1D;IAEA,OAAO;QACL;QACA;QACA;IACF;AACF;GA5DgB;;QACM,mOAAU;QAMoC,6OAAe;QAWtB,6OAAe"}},
    {"offset": {"line": 3315, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/Folder/BlockBelle/next-frontend/src/components/UserProfile.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useAccount, useDisconnect } from 'wagmi';\r\nimport { useRegistration } from '@/hooks/useRegistration';\r\nimport { useSelfVerification } from '@/hooks/useSelfVerification';\r\nimport Tier3Badge from '@/components/Tier3Badge';\r\n\r\ninterface UserProfileProps {\r\n  showFullAddress?: boolean\r\n}\r\n\r\nexport default function UserProfile({ showFullAddress = false }: UserProfileProps) {\r\n  const { address, isConnected } = useAccount()\r\n  const { disconnect } = useDisconnect()\r\n  const { isRegistered, ensName, isLoading } = useRegistration()\r\n  const { verificationData } = useSelfVerification()\r\n\r\n  if (!isConnected || !address) {\r\n    return null // Let SimpleOnboarding handle the connect button\r\n  }\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center space-x-3\">\r\n        <div className=\"w-8 h-8 bg-gray-200 rounded-full animate-pulse\"></div>\r\n        <div className=\"text-right\">\r\n          <div className=\"w-20 h-4 bg-gray-200 rounded animate-pulse\"></div>\r\n          <div className=\"w-16 h-3 bg-gray-200 rounded animate-pulse mt-1\"></div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const displayName = ensName || (showFullAddress ? address : `${address.slice(0, 6)}...${address.slice(-4)}`)\r\n\r\n  return (\r\n    <div className=\"flex items-center space-x-3\">\r\n      <div className=\"flex items-center space-x-2\">\r\n        {isRegistered && (\r\n          <div className=\"w-8 h-8 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center\">\r\n            <span className=\"text-white text-sm font-bold\">\r\n              {ensName.charAt(0).toUpperCase()}\r\n            </span>\r\n          </div>\r\n        )}\r\n        <div className=\"text-right\">\r\n          <div className={`font-medium ${isRegistered ? 'text-gray-900' : 'text-gray-600'} flex items-center gap-1.5 justify-end`}>\r\n            {displayName}\r\n            {verificationData.selfVerified && <Tier3Badge size=\"sm\" />}\r\n          </div>\r\n          {isRegistered && (\r\n            <div className=\"text-xs text-blockbelle-pink font-medium\">\r\n              ✓ Verified\r\n            </div>\r\n          )}\r\n          {!isRegistered && (\r\n            <div className=\"text-xs text-amber-600\">\r\n              Not registered\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <button\r\n        onClick={() => disconnect()}\r\n        className=\"text-gray-500 hover:text-gray-700 text-sm underline\"\r\n        title=\"Disconnect wallet\"\r\n      >\r\n        Disconnect\r\n      </button>\r\n    </div>\r\n  )\r\n}"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AACA;AACA;;;AALA;;;;;AAWe,SAAS,YAAY,EAAE,kBAAkB,KAAK,EAAoB;;IAC/E,MAAM,EAAE,OAAO,EAAE,WAAW,EAAE,GAAG,IAAA,mOAAU;IAC3C,MAAM,EAAE,UAAU,EAAE,GAAG,IAAA,yOAAa;IACpC,MAAM,EAAE,YAAY,EAAE,OAAO,EAAE,SAAS,EAAE,GAAG,IAAA,4MAAe;IAC5D,MAAM,EAAE,gBAAgB,EAAE,GAAG,IAAA,oNAAmB;IAEhD,IAAI,CAAC,eAAe,CAAC,SAAS;QAC5B,OAAO,KAAK,iDAAiD;;IAC/D;IAEA,IAAI,WAAW;QACb,qBACE,oPAAC;YAAI,WAAU;;8BACb,oPAAC;oBAAI,WAAU;;;;;;8BACf,oPAAC;oBAAI,WAAU;;sCACb,oPAAC;4BAAI,WAAU;;;;;;sCACf,oPAAC;4BAAI,WAAU;;;;;;;;;;;;;;;;;;IAIvB;IAEA,MAAM,cAAc,WAAW,CAAC,kBAAkB,UAAU,GAAG,QAAQ,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,QAAQ,KAAK,CAAC,CAAC,IAAI;IAE3G,qBACE,oPAAC;QAAI,WAAU;;0BACb,oPAAC;gBAAI,WAAU;;oBACZ,8BACC,oPAAC;wBAAI,WAAU;kCACb,cAAA,oPAAC;4BAAK,WAAU;sCACb,QAAQ,MAAM,CAAC,GAAG,WAAW;;;;;;;;;;;kCAIpC,oPAAC;wBAAI,WAAU;;0CACb,oPAAC;gCAAI,WAAW,CAAC,YAAY,EAAE,eAAe,kBAAkB,gBAAgB,sCAAsC,CAAC;;oCACpH;oCACA,iBAAiB,YAAY,kBAAI,oPAAC,qMAAU;wCAAC,MAAK;;;;;;;;;;;;4BAEpD,8BACC,oPAAC;gCAAI,WAAU;0CAA2C;;;;;;4BAI3D,CAAC,8BACA,oPAAC;gCAAI,WAAU;0CAAyB;;;;;;;;;;;;;;;;;;0BAM9C,oPAAC;gBACC,SAAS,IAAM;gBACf,WAAU;gBACV,OAAM;0BACP;;;;;;;;;;;;AAKP;GA5DwB;;QACW,mOAAU;QACpB,yOAAa;QACS,4MAAe;QAC/B,oNAAmB;;;KAJ1B"}},
    {"offset": {"line": 3488, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/Folder/BlockBelle/next-frontend/src/components/RegistrationCheck.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useAccount, useReadContract } from 'wagmi';\r\nimport { parseAbi } from 'viem';\r\nimport { UserIcon, CheckCircleIcon, ExclamationTriangleIcon, ArrowRightIcon } from '@heroicons/react/24/outline';\r\nimport { CONTRACT_ADDRESSES } from '@/config/contracts';\r\n\r\nconst registryAbi = parseAbi([\r\n  'function getUserDetails(address userAddress) external view returns (string memory ensName, string memory avatarHash, bool registered)',\r\n  'function isUserRegistered(address userAddress) external view returns (bool)',\r\n])\r\n\r\ninterface RegistrationCheckProps {\r\n  onRegistered: () => void\r\n  onNotRegistered: () => void\r\n}\r\n\r\nexport default function RegistrationCheck({ onRegistered, onNotRegistered }: RegistrationCheckProps) {\r\n   const { address, isConnected } = useAccount()\r\n   const [ensName, setEnsName] = useState<string>('')\r\n   const [isLoading, setIsLoading] = useState(true)\r\n\r\n   const { data: userDetails } = useReadContract({\r\n     address: CONTRACT_ADDRESSES.registry,\r\n     abi: registryAbi,\r\n     functionName: 'getUserDetails',\r\n     args: address ? [address] : undefined,\r\n   })\r\n\r\n   const { data: registrationStatus } = useReadContract({\r\n     address: CONTRACT_ADDRESSES.registry,\r\n     abi: registryAbi,\r\n     functionName: 'isUserRegistered',\r\n     args: address ? [address] : undefined,\r\n   })\r\n\r\n   useEffect(() => {\r\n     if (userDetails !== undefined && registrationStatus !== undefined) {\r\n       setIsLoading(false)\r\n\r\n       const [name, , registered] = userDetails as [string, string, boolean]\r\n\r\n       if (registered && name && name.length > 0) {\r\n         setEnsName(name)\r\n         onRegistered()\r\n       } else {\r\n         onNotRegistered()\r\n       }\r\n     }\r\n   }, [userDetails, registrationStatus, onRegistered, onNotRegistered])\r\n\r\n  // Show loading state while checking registration\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex-1 flex items-center justify-center bg-gray-50\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4\"></div>\r\n          <h2 className=\"text-xl font-semibold text-gray-600 mb-2\">Checking Registration Status</h2>\r\n          <p className=\"text-gray-500\">Verifying your ENS registration...</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // Show registration status result\r\n  return (\r\n    <div className=\"flex-1 flex items-center justify-center bg-gray-50\">\r\n      <div className=\"max-w-md w-full bg-white rounded-lg shadow-md p-8 text-center\">\r\n        <div className=\"mb-6\">\r\n          {ensName ? (\r\n            <div className=\"flex items-center justify-center mb-4\">\r\n              <div className=\"w-16 h-16 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center\">\r\n                <CheckCircleIcon className=\"h-8 w-8 text-white\" />\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"flex items-center justify-center mb-4\">\r\n              <div className=\"w-16 h-16 bg-gradient-to-r from-amber-400 to-orange-500 rounded-full flex items-center justify-center\">\r\n                <ExclamationTriangleIcon className=\"h-8 w-8 text-white\" />\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <h2 className=\"text-2xl font-bold text-gray-900 mb-3\">\r\n          {ensName ? 'Welcome to Whispr Chat!' : 'Create Your Profile'}\r\n        </h2>\r\n\r\n        <p className=\"text-gray-600 mb-6\">\r\n          {ensName ? (\r\n            <>\r\n              You're registered as <span className=\"font-mono font-semibold text-blue-600\">{ensName}</span>\r\n              <br />\r\n              Ready to start chatting with the community?\r\n            </>\r\n          ) : (\r\n            <>\r\n              Create your unique profile to start chatting with other community members.\r\n              <br />\r\n              Choose any name you'd like - no ENS ownership required!\r\n            </>\r\n          )}\r\n        </p>\r\n\r\n        <div className=\"space-y-4\">\r\n          {ensName ? (\r\n            <button\r\n              onClick={onRegistered}\r\n              className=\"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-bold py-3 px-6 rounded-lg transition-all duration-200 transform hover:scale-105 flex items-center justify-center space-x-2\"\r\n            >\r\n              <span>Start Chatting</span>\r\n              <ArrowRightIcon className=\"h-5 w-5\" />\r\n            </button>\r\n          ) : (\r\n            <button\r\n              onClick={onNotRegistered}\r\n              className=\"w-full bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white font-bold py-3 px-6 rounded-lg transition-all duration-200 transform hover:scale-105 flex items-center justify-center space-x-2\"\r\n            >\r\n              <span>Register Now</span>\r\n              <UserIcon className=\"h-5 w-5\" />\r\n            </button>\r\n          )}\r\n        </div>\r\n\r\n        {ensName && (\r\n          <div className=\"mt-4 p-3 bg-green-50 rounded-lg\">\r\n            <p className=\"text-sm text-green-700\">\r\n              <strong>✓ Verified:</strong> Your ENS name is confirmed and you can start chatting immediately!\r\n            </p>\r\n          </div>\r\n        )}\r\n\r\n        {!ensName && (\r\n          <div className=\"mt-4 p-3 bg-blue-50 rounded-lg\">\r\n            <p className=\"text-sm text-blue-700\">\r\n              <strong>💡 Tip:</strong> Choose any name you'd like - no ENS domain ownership required!\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;;;AANA;;;;;;AAQA,MAAM,cAAc,IAAA,6OAAQ,EAAC;IAC3B;IACA;CACD;AAOc,SAAS,kBAAkB,EAAE,YAAY,EAAE,eAAe,EAA0B;;IAChG,MAAM,EAAE,OAAO,EAAE,WAAW,EAAE,GAAG,IAAA,mOAAU;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,gOAAQ,EAAS;IAC/C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,gOAAQ,EAAC;IAE3C,MAAM,EAAE,MAAM,WAAW,EAAE,GAAG,IAAA,6OAAe,EAAC;QAC5C,SAAS,0MAAkB,CAAC,QAAQ;QACpC,KAAK;QACL,cAAc;QACd,MAAM,UAAU;YAAC;SAAQ,GAAG;IAC9B;IAEA,MAAM,EAAE,MAAM,kBAAkB,EAAE,GAAG,IAAA,6OAAe,EAAC;QACnD,SAAS,0MAAkB,CAAC,QAAQ;QACpC,KAAK;QACL,cAAc;QACd,MAAM,UAAU;YAAC;SAAQ,GAAG;IAC9B;IAEA,IAAA,iOAAS;uCAAC;YACR,IAAI,gBAAgB,aAAa,uBAAuB,WAAW;gBACjE,aAAa;gBAEb,MAAM,CAAC,QAAQ,WAAW,GAAG;gBAE7B,IAAI,cAAc,QAAQ,KAAK,MAAM,GAAG,GAAG;oBACzC,WAAW;oBACX;gBACF,OAAO;oBACL;gBACF;YACF;QACF;sCAAG;QAAC;QAAa;QAAoB;QAAc;KAAgB;IAEpE,iDAAiD;IACjD,IAAI,WAAW;QACb,qBACE,oPAAC;YAAI,WAAU;sBACb,cAAA,oPAAC;gBAAI,WAAU;;kCACb,oPAAC;wBAAI,WAAU;;;;;;kCACf,oPAAC;wBAAG,WAAU;kCAA2C;;;;;;kCACzD,oPAAC;wBAAE,WAAU;kCAAgB;;;;;;;;;;;;;;;;;IAIrC;IAEA,kCAAkC;IAClC,qBACE,oPAAC;QAAI,WAAU;kBACb,cAAA,oPAAC;YAAI,WAAU;;8BACb,oPAAC;oBAAI,WAAU;8BACZ,wBACC,oPAAC;wBAAI,WAAU;kCACb,cAAA,oPAAC;4BAAI,WAAU;sCACb,cAAA,oPAAC,0SAAe;gCAAC,WAAU;;;;;;;;;;;;;;;6CAI/B,oPAAC;wBAAI,WAAU;kCACb,cAAA,oPAAC;4BAAI,WAAU;sCACb,cAAA,oPAAC,kUAAuB;gCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;8BAM3C,oPAAC;oBAAG,WAAU;8BACX,UAAU,4BAA4B;;;;;;8BAGzC,oPAAC;oBAAE,WAAU;8BACV,wBACC;;4BAAE;0CACqB,oPAAC;gCAAK,WAAU;0CAAyC;;;;;;0CAC9E,oPAAC;;;;;4BAAK;;qDAIR;;4BAAE;0CAEA,oPAAC;;;;;4BAAK;;;;;;;;8BAMZ,oPAAC;oBAAI,WAAU;8BACZ,wBACC,oPAAC;wBACC,SAAS;wBACT,WAAU;;0CAEV,oPAAC;0CAAK;;;;;;0CACN,oPAAC,uSAAc;gCAAC,WAAU;;;;;;;;;;;6CAG5B,oPAAC;wBACC,SAAS;wBACT,WAAU;;0CAEV,oPAAC;0CAAK;;;;;;0CACN,oPAAC,qRAAQ;gCAAC,WAAU;;;;;;;;;;;;;;;;;gBAKzB,yBACC,oPAAC;oBAAI,WAAU;8BACb,cAAA,oPAAC;wBAAE,WAAU;;0CACX,oPAAC;0CAAO;;;;;;4BAAoB;;;;;;;;;;;;gBAKjC,CAAC,yBACA,oPAAC;oBAAI,WAAU;8BACb,cAAA,oPAAC;wBAAE,WAAU;;0CACX,oPAAC;0CAAO;;;;;;4BAAgB;;;;;;;;;;;;;;;;;;;;;;;AAOtC;GA7HwB;;QACY,mOAAU;QAIb,6OAAe;QAOR,6OAAe;;;KAZ/B"}},
    {"offset": {"line": 3825, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/Folder/BlockBelle/next-frontend/src/components/SimpleOnboarding.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport { useAccount } from 'wagmi';\r\nimport { ConnectButton } from '@rainbow-me/rainbowkit';\r\nimport { useRegistration } from '@/hooks/useRegistration';\r\nimport { UserIcon, ArrowRightIcon } from '@heroicons/react/24/outline';\r\n\r\ninterface SimpleOnboardingProps {\r\n  onComplete: () => void\r\n  onRegister: () => void\r\n}\r\n\r\nexport default function SimpleOnboarding({ onComplete, onRegister }: SimpleOnboardingProps) {\r\n  const { address, isConnected } = useAccount()\r\n  const { isRegistered, ensName, isLoading } = useRegistration()\r\n\r\n  if (!isConnected) {\r\n    return (\r\n      <div className=\"flex items-center space-x-4\">\r\n        <ConnectButton.Custom>\r\n          {({ openConnectModal }) => (\r\n            <button\r\n              onClick={openConnectModal}\r\n              className=\"bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-all duration-200 transform hover:scale-105\"\r\n            >\r\n              Connect Wallet\r\n            </button>\r\n          )}\r\n        </ConnectButton.Custom>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center space-x-4\">\r\n        <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-purple-600\"></div>\r\n        <span className=\"text-gray-600\">Checking...</span>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // Show connected status\r\n  if (isRegistered) {\r\n    return (\r\n      <div className=\"flex items-center space-x-4\">\r\n        <div className=\"text-sm text-green-600 font-medium\">\r\n          ✓ Wallet Connected & Registered\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // Show connected but not registered\r\n  return (\r\n    <div className=\"flex items-center space-x-4\">\r\n      <div className=\"text-sm text-green-600 font-medium\">\r\n        ✓ Wallet Connected\r\n      </div>\r\n      <button\r\n        onClick={onRegister}\r\n        className=\"bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-all duration-200 transform hover:scale-105\"\r\n      >\r\n        Register ENS\r\n      </button>\r\n    </div>\r\n  )\r\n}"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;;;AALA;;;;AAae,SAAS,iBAAiB,EAAE,UAAU,EAAE,UAAU,EAAyB;;IACxF,MAAM,EAAE,OAAO,EAAE,WAAW,EAAE,GAAG,IAAA,mOAAU;IAC3C,MAAM,EAAE,YAAY,EAAE,OAAO,EAAE,SAAS,EAAE,GAAG,IAAA,4MAAe;IAE5D,IAAI,CAAC,aAAa;QAChB,qBACE,oPAAC;YAAI,WAAU;sBACb,cAAA,oPAAC,yPAAa,CAAC,MAAM;0BAClB,CAAC,EAAE,gBAAgB,EAAE,iBACpB,oPAAC;wBACC,SAAS;wBACT,WAAU;kCACX;;;;;;;;;;;;;;;;IAOX;IAEA,IAAI,WAAW;QACb,qBACE,oPAAC;YAAI,WAAU;;8BACb,oPAAC;oBAAI,WAAU;;;;;;8BACf,oPAAC;oBAAK,WAAU;8BAAgB;;;;;;;;;;;;IAGtC;IAEA,wBAAwB;IACxB,IAAI,cAAc;QAChB,qBACE,oPAAC;YAAI,WAAU;sBACb,cAAA,oPAAC;gBAAI,WAAU;0BAAqC;;;;;;;;;;;IAK1D;IAEA,oCAAoC;IACpC,qBACE,oPAAC;QAAI,WAAU;;0BACb,oPAAC;gBAAI,WAAU;0BAAqC;;;;;;0BAGpD,oPAAC;gBACC,SAAS;gBACT,WAAU;0BACX;;;;;;;;;;;;AAKP;GAvDwB;;QACW,mOAAU;QACE,4MAAe;;;KAFtC"}},
    {"offset": {"line": 3955, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/Folder/BlockBelle/next-frontend/src/hooks/useQuestTracking.ts"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useAccount, useReadContract, useWriteContract } from 'wagmi';\r\nimport { parseAbi } from 'viem';\r\nimport { useSelfVerification } from './useSelfVerification';\r\n\r\nconst GDOLLAR_TOKEN_ADDRESS = '0x62B8B11039FcfE5aB0C56E502b1C372A3d2a9c7A'; // Celo Mainnet\r\n\r\nconst ERC20_ABI = parseAbi([\r\n    'function transfer(address to, uint256 amount) external returns (bool)',\r\n    'function balanceOf(address account) external view returns (uint256)',\r\n]);\r\n\r\nexport interface Quest {\r\n    id: string;\r\n    title: string;\r\n    description: string;\r\n    reward: bigint;\r\n    progress: number;\r\n    target: number;\r\n    completed: boolean;\r\n    claimed: boolean;\r\n    category: 'chat' | 'verification' | 'transfer' | 'ens' | 'streak' | 'referral';\r\n}\r\n\r\ninterface QuestProgress {\r\n    messageCount: number;\r\n    isVerified: boolean;\r\n    hasTransferred: boolean;\r\n    hasENS: boolean;\r\n    claimStreak: number;\r\n    referralCount: number;\r\n}\r\n\r\nconst QUEST_STORAGE_KEY = 'blockbelle_quest_progress';\r\nconst REWARDS_WALLET = '0x0000000000000000000000000000000000000000'; // TODO: Replace with actual rewards wallet\r\n\r\nexport function useQuestTracking() {\r\n    const { address } = useAccount();\r\n    const { isVerified } = useSelfVerification();\r\n    const [progress, setProgress] = useState<QuestProgress>({\r\n        messageCount: 0,\r\n        isVerified: false,\r\n        hasTransferred: false,\r\n        hasENS: false,\r\n        claimStreak: 0,\r\n        referralCount: 0,\r\n    });\r\n\r\n    const { writeContractAsync } = useWriteContract();\r\n\r\n    // Load progress from localStorage\r\n    useEffect(() => {\r\n        if (!address) return;\r\n\r\n        const stored = localStorage.getItem(`${QUEST_STORAGE_KEY}_${address}`);\r\n        if (stored) {\r\n            try {\r\n                const parsed = JSON.parse(stored);\r\n                setProgress(parsed);\r\n            } catch (e) {\r\n                console.error('Failed to parse quest progress:', e);\r\n            }\r\n        }\r\n    }, [address]);\r\n\r\n    // Update verification status\r\n    useEffect(() => {\r\n        if (isVerified && !progress.isVerified) {\r\n            setProgress(prev => ({ ...prev, isVerified: true }));\r\n        }\r\n    }, [isVerified, progress.isVerified]);\r\n\r\n    // Save progress to localStorage\r\n    useEffect(() => {\r\n        if (!address) return;\r\n        localStorage.setItem(`${QUEST_STORAGE_KEY}_${address}`, JSON.stringify(progress));\r\n    }, [address, progress]);\r\n\r\n    // Track referrals from URL\r\n    useEffect(() => {\r\n        if (typeof window === 'undefined') return;\r\n\r\n        const params = new URLSearchParams(window.location.search);\r\n        const ref = params.get('ref');\r\n\r\n        if (ref && address && ref.toLowerCase() !== address.toLowerCase()) {\r\n            // Store referrer\r\n            const referrerKey = `blockbelle_referrer_${address}`;\r\n            if (!localStorage.getItem(referrerKey)) {\r\n                localStorage.setItem(referrerKey, ref);\r\n\r\n                // Increment referral count for referrer\r\n                const referrerProgress = localStorage.getItem(`${QUEST_STORAGE_KEY}_${ref}`);\r\n                if (referrerProgress) {\r\n                    try {\r\n                        const parsed = JSON.parse(referrerProgress);\r\n                        parsed.referralCount = (parsed.referralCount || 0) + 1;\r\n                        localStorage.setItem(`${QUEST_STORAGE_KEY}_${ref}`, JSON.stringify(parsed));\r\n                    } catch (e) {\r\n                        console.error('Failed to update referrer progress:', e);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }, [address]);\r\n\r\n    const incrementMessageCount = () => {\r\n        setProgress(prev => ({ ...prev, messageCount: prev.messageCount + 1 }));\r\n    };\r\n\r\n    const markTransferred = () => {\r\n        setProgress(prev => ({ ...prev, hasTransferred: true }));\r\n    };\r\n\r\n    const markENSRegistered = () => {\r\n        setProgress(prev => ({ ...prev, hasENS: true }));\r\n    };\r\n\r\n    const incrementClaimStreak = () => {\r\n        setProgress(prev => ({ ...prev, claimStreak: prev.claimStreak + 1 }));\r\n    };\r\n\r\n    const resetClaimStreak = () => {\r\n        setProgress(prev => ({ ...prev, claimStreak: 0 }));\r\n    };\r\n\r\n    // Define quests\r\n    const quests: Quest[] = [\r\n        // Chat Milestones\r\n        {\r\n            id: 'chat_10',\r\n            title: 'Chatty Starter',\r\n            description: 'Send 10 messages in the community',\r\n            reward: BigInt(50) * BigInt(10 ** 18),\r\n            progress: Math.min(progress.messageCount, 10),\r\n            target: 10,\r\n            completed: progress.messageCount >= 10,\r\n            claimed: false,\r\n            category: 'chat',\r\n        },\r\n        {\r\n            id: 'chat_20',\r\n            title: 'Conversation Pro',\r\n            description: 'Send 20 messages in the community',\r\n            reward: BigInt(100) * BigInt(10 ** 18),\r\n            progress: Math.min(progress.messageCount, 20),\r\n            target: 20,\r\n            completed: progress.messageCount >= 20,\r\n            claimed: false,\r\n            category: 'chat',\r\n        },\r\n        {\r\n            id: 'chat_50',\r\n            title: 'Community Champion',\r\n            description: 'Send 50 messages in the community',\r\n            reward: BigInt(200) * BigInt(10 ** 18),\r\n            progress: Math.min(progress.messageCount, 50),\r\n            target: 50,\r\n            completed: progress.messageCount >= 50,\r\n            claimed: false,\r\n            category: 'chat',\r\n        },\r\n        // Verification\r\n        {\r\n            id: 'self_verify',\r\n            title: 'Verified Human',\r\n            description: 'Complete SELF Protocol verification',\r\n            reward: BigInt(1000) * BigInt(10 ** 18),\r\n            progress: progress.isVerified ? 1 : 0,\r\n            target: 1,\r\n            completed: progress.isVerified,\r\n            claimed: false,\r\n            category: 'verification',\r\n        },\r\n        // Transfer\r\n        {\r\n            id: 'first_transfer',\r\n            title: 'First Transaction',\r\n            description: 'Send G$ to another user',\r\n            reward: BigInt(100) * BigInt(10 ** 18),\r\n            progress: progress.hasTransferred ? 1 : 0,\r\n            target: 1,\r\n            completed: progress.hasTransferred,\r\n            claimed: false,\r\n            category: 'transfer',\r\n        },\r\n        // ENS\r\n        {\r\n            id: 'ens_register',\r\n            title: 'ENS Identity',\r\n            description: 'Register an ENS name',\r\n            reward: BigInt(500) * BigInt(10 ** 18),\r\n            progress: progress.hasENS ? 1 : 0,\r\n            target: 1,\r\n            completed: progress.hasENS,\r\n            claimed: false,\r\n            category: 'ens',\r\n        },\r\n        // Streaks\r\n        {\r\n            id: 'streak_3',\r\n            title: '3-Day Streak',\r\n            description: 'Claim G$ for 3 days in a row',\r\n            reward: BigInt(100) * BigInt(10 ** 18),\r\n            progress: Math.min(progress.claimStreak, 3),\r\n            target: 3,\r\n            completed: progress.claimStreak >= 3,\r\n            claimed: false,\r\n            category: 'streak',\r\n        },\r\n        {\r\n            id: 'streak_7',\r\n            title: 'Week Warrior',\r\n            description: 'Claim G$ for 7 days in a row',\r\n            reward: BigInt(300) * BigInt(10 ** 18),\r\n            progress: Math.min(progress.claimStreak, 7),\r\n            target: 7,\r\n            completed: progress.claimStreak >= 7,\r\n            claimed: false,\r\n            category: 'streak',\r\n        },\r\n        {\r\n            id: 'streak_14',\r\n            title: 'Fortnight Champion',\r\n            description: 'Claim G$ for 14 days in a row',\r\n            reward: BigInt(750) * BigInt(10 ** 18),\r\n            progress: Math.min(progress.claimStreak, 14),\r\n            target: 14,\r\n            completed: progress.claimStreak >= 14,\r\n            claimed: false,\r\n            category: 'streak',\r\n        },\r\n        // Referrals\r\n        {\r\n            id: 'referral_1',\r\n            title: 'Invite a Friend',\r\n            description: 'Refer 1 new user to BlockBelle',\r\n            reward: BigInt(500) * BigInt(10 ** 18),\r\n            progress: Math.min(progress.referralCount, 1),\r\n            target: 1,\r\n            completed: progress.referralCount >= 1,\r\n            claimed: false,\r\n            category: 'referral',\r\n        },\r\n        {\r\n            id: 'referral_3',\r\n            title: 'Community Builder',\r\n            description: 'Refer 3 new users to BlockBelle',\r\n            reward: BigInt(1500) * BigInt(10 ** 18),\r\n            progress: Math.min(progress.referralCount, 3),\r\n            target: 3,\r\n            completed: progress.referralCount >= 3,\r\n            claimed: false,\r\n            category: 'referral',\r\n        },\r\n        {\r\n            id: 'referral_5',\r\n            title: 'Ambassador',\r\n            description: 'Refer 5 new users to BlockBelle',\r\n            reward: BigInt(3000) * BigInt(10 ** 18),\r\n            progress: Math.min(progress.referralCount, 5),\r\n            target: 5,\r\n            completed: progress.referralCount >= 5,\r\n            claimed: false,\r\n            category: 'referral',\r\n        },\r\n    ];\r\n\r\n    // Load claimed status from localStorage\r\n    const questsWithClaimedStatus = quests.map(quest => {\r\n        const claimedKey = `quest_claimed_${address}_${quest.id}`;\r\n        const claimed = localStorage.getItem(claimedKey) === 'true';\r\n        return { ...quest, claimed };\r\n    });\r\n\r\n    const claimQuestReward = async (questId: string) => {\r\n        if (!address) throw new Error('Wallet not connected');\r\n\r\n        const quest = questsWithClaimedStatus.find(q => q.id === questId);\r\n        if (!quest) throw new Error('Quest not found');\r\n        if (!quest.completed) throw new Error('Quest not completed');\r\n        if (quest.claimed) throw new Error('Quest already claimed');\r\n\r\n        try {\r\n            // Transfer G$ from rewards wallet to user\r\n            const tx = await writeContractAsync({\r\n                address: GDOLLAR_TOKEN_ADDRESS,\r\n                abi: ERC20_ABI,\r\n                functionName: 'transfer',\r\n                args: [address, quest.reward],\r\n            });\r\n\r\n            // Mark as claimed\r\n            const claimedKey = `quest_claimed_${address}_${questId}`;\r\n            localStorage.setItem(claimedKey, 'true');\r\n\r\n            return tx;\r\n        } catch (error) {\r\n            console.error('Failed to claim quest reward:', error);\r\n            throw error;\r\n        }\r\n    };\r\n\r\n    return {\r\n        quests: questsWithClaimedStatus,\r\n        progress,\r\n        incrementMessageCount,\r\n        markTransferred,\r\n        markENSRegistered,\r\n        incrementClaimStreak,\r\n        resetClaimStreak,\r\n        claimQuestReward,\r\n    };\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4293, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/Folder/BlockBelle/next-frontend/src/components/QuestBoard.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useQuestTracking, Quest } from '@/hooks/useQuestTracking';\r\nimport { formatUnits } from 'viem';\r\nimport {\r\n    ChatBubbleLeftRightIcon,\r\n    ShieldCheckIcon,\r\n    BanknotesIcon,\r\n    IdentificationIcon,\r\n    FireIcon,\r\n    UserPlusIcon,\r\n    CheckCircleIcon,\r\n    TrophyIcon\r\n} from '@heroicons/react/24/outline';\r\n\r\nconst CATEGORY_ICONS = {\r\n    chat: ChatBubbleLeftRightIcon,\r\n    verification: ShieldCheckIcon,\r\n    transfer: BanknotesIcon,\r\n    ens: IdentificationIcon,\r\n    streak: FireIcon,\r\n    referral: UserPlusIcon,\r\n};\r\n\r\nconst CATEGORY_COLORS = {\r\n    chat: 'from-blue-500 to-cyan-500',\r\n    verification: 'from-green-500 to-emerald-500',\r\n    transfer: 'from-purple-500 to-pink-500',\r\n    ens: 'from-orange-500 to-yellow-500',\r\n    streak: 'from-red-500 to-orange-500',\r\n    referral: 'from-indigo-500 to-purple-500',\r\n};\r\n\r\nexport default function QuestBoard() {\r\n    const { quests, claimQuestReward } = useQuestTracking();\r\n    const [claimingQuest, setClaimingQuest] = useState<string | null>(null);\r\n    const [error, setError] = useState<string>('');\r\n    const [success, setSuccess] = useState<string>('');\r\n\r\n    const handleClaimReward = async (questId: string) => {\r\n        setError('');\r\n        setSuccess('');\r\n        setClaimingQuest(questId);\r\n\r\n        try {\r\n            await claimQuestReward(questId);\r\n            setSuccess('Quest reward claimed successfully! 🎉');\r\n        } catch (err: any) {\r\n            console.error('Failed to claim quest reward:', err);\r\n            setError(err.message || 'Failed to claim reward. Please try again.');\r\n        } finally {\r\n            setClaimingQuest(null);\r\n        }\r\n    };\r\n\r\n    const formatG$ = (value: bigint) => {\r\n        return Number(formatUnits(value, 18)).toFixed(0);\r\n    };\r\n\r\n    const completedQuests = quests.filter(q => q.completed);\r\n    const unclaimedQuests = completedQuests.filter(q => !q.claimed);\r\n    const activeQuests = quests.filter(q => !q.completed);\r\n\r\n    return (\r\n        <div className=\"bg-gradient-to-br from-blockbelle-pink/10 via-blockbelle-purple/10 to-blockbelle-indigo/10 shadow-lg rounded-xl p-6 border border-blockbelle-purple/20\">\r\n            <div className=\"flex items-center justify-between mb-6\">\r\n                <div className=\"flex items-center space-x-3\">\r\n                    <TrophyIcon className=\"h-8 w-8 text-blockbelle-gold\" />\r\n                    <div>\r\n                        <h2 className=\"text-2xl font-bold text-gradient-blockbelle\">Quest Board</h2>\r\n                        <p className=\"text-sm text-gray-600\">Complete quests to earn G$ rewards</p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"text-right\">\r\n                    <p className=\"text-sm text-gray-600\">Completed</p>\r\n                    <p className=\"text-2xl font-bold text-blockbelle-purple\">\r\n                        {completedQuests.length}/{quests.length}\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            {error && (\r\n                <div className=\"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg\">\r\n                    <p className=\"text-sm text-red-600\">{error}</p>\r\n                </div>\r\n            )}\r\n\r\n            {success && (\r\n                <div className=\"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg\">\r\n                    <p className=\"text-sm text-green-600\">{success}</p>\r\n                </div>\r\n            )}\r\n\r\n            {/* Unclaimed Rewards Section */}\r\n            {unclaimedQuests.length > 0 && (\r\n                <div className=\"mb-6 p-4 bg-gradient-to-r from-blockbelle-gold/20 to-blockbelle-gold/10 border-2 border-blockbelle-gold rounded-xl\">\r\n                    <h3 className=\"text-lg font-bold text-blockbelle-purple mb-3 flex items-center\">\r\n                        <TrophyIcon className=\"h-5 w-5 mr-2\" />\r\n                        Ready to Claim ({unclaimedQuests.length})\r\n                    </h3>\r\n                    <div className=\"space-y-2\">\r\n                        {unclaimedQuests.map(quest => (\r\n                            <QuestCard\r\n                                key={quest.id}\r\n                                quest={quest}\r\n                                onClaim={handleClaimReward}\r\n                                isClaiming={claimingQuest === quest.id}\r\n                                formatG$={formatG$}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Active Quests */}\r\n            {activeQuests.length > 0 && (\r\n                <div>\r\n                    <h3 className=\"text-lg font-bold text-gray-800 mb-3\">Active Quests</h3>\r\n                    <div className=\"space-y-3\">\r\n                        {activeQuests.map(quest => (\r\n                            <QuestCard\r\n                                key={quest.id}\r\n                                quest={quest}\r\n                                onClaim={handleClaimReward}\r\n                                isClaiming={claimingQuest === quest.id}\r\n                                formatG$={formatG$}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* All Completed */}\r\n            {activeQuests.length === 0 && unclaimedQuests.length === 0 && (\r\n                <div className=\"text-center py-8\">\r\n                    <TrophyIcon className=\"h-16 w-16 text-blockbelle-gold mx-auto mb-3\" />\r\n                    <h3 className=\"text-xl font-bold text-blockbelle-purple mb-2\">\r\n                        All Quests Completed! 🎉\r\n                    </h3>\r\n                    <p className=\"text-gray-600\">\r\n                        You've claimed all available rewards. Check back later for new quests!\r\n                    </p>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\ninterface QuestCardProps {\r\n    quest: Quest;\r\n    onClaim: (questId: string) => void;\r\n    isClaiming: boolean;\r\n    formatG$: (value: bigint) => string;\r\n}\r\n\r\nfunction QuestCard({ quest, onClaim, isClaiming, formatG$ }: QuestCardProps) {\r\n    const Icon = CATEGORY_ICONS[quest.category];\r\n    const colorGradient = CATEGORY_COLORS[quest.category];\r\n    const progressPercent = (quest.progress / quest.target) * 100;\r\n\r\n    return (\r\n        <div className={`bg-white rounded-lg p-4 border-2 ${quest.completed ? 'border-green-300' : 'border-gray-200'\r\n            } hover:shadow-md transition-all duration-200`}>\r\n            <div className=\"flex items-start justify-between mb-3\">\r\n                <div className=\"flex items-start space-x-3 flex-1\">\r\n                    <div className={`bg-gradient-to-br ${colorGradient} p-2 rounded-lg`}>\r\n                        <Icon className=\"h-5 w-5 text-white\" />\r\n                    </div>\r\n                    <div className=\"flex-1\">\r\n                        <h4 className=\"font-semibold text-gray-900 flex items-center\">\r\n                            {quest.title}\r\n                            {quest.claimed && (\r\n                                <CheckCircleIcon className=\"h-4 w-4 ml-2 text-green-500\" />\r\n                            )}\r\n                        </h4>\r\n                        <p className=\"text-sm text-gray-600\">{quest.description}</p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"text-right ml-4\">\r\n                    <p className=\"text-lg font-bold text-blockbelle-gold\">\r\n                        {formatG$(quest.reward)} G$\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Progress Bar */}\r\n            <div className=\"mb-3\">\r\n                <div className=\"flex justify-between text-xs text-gray-600 mb-1\">\r\n                    <span>Progress</span>\r\n                    <span>{quest.progress}/{quest.target}</span>\r\n                </div>\r\n                <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                    <div\r\n                        className={`bg-gradient-to-r ${colorGradient} h-2 rounded-full transition-all duration-300`}\r\n                        style={{ width: `${progressPercent}%` }}\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            {/* Action Button */}\r\n            {quest.completed && !quest.claimed && (\r\n                <button\r\n                    onClick={() => onClaim(quest.id)}\r\n                    disabled={isClaiming}\r\n                    className=\"w-full gradient-blockbelle hover:opacity-90 text-white font-semibold py-2 px-4 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\"\r\n                >\r\n                    {isClaiming ? (\r\n                        <span className=\"flex items-center justify-center\">\r\n                            <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\r\n                            Claiming...\r\n                        </span>\r\n                    ) : (\r\n                        'Claim Reward'\r\n                    )}\r\n                </button>\r\n            )}\r\n\r\n            {quest.claimed && (\r\n                <div className=\"w-full bg-green-50 border border-green-200 text-green-700 font-medium py-2 px-4 rounded-lg text-center\">\r\n                    ✅ Reward Claimed\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4788, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/Folder/BlockBelle/next-frontend/src/components/ReferralCard.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useAccount } from 'wagmi';\r\nimport { LinkIcon, UserPlusIcon, CheckCircleIcon } from '@heroicons/react/24/outline';\r\n\r\nexport default function ReferralCard() {\r\n    const { address } = useAccount();\r\n    const [copied, setCopied] = useState(false);\r\n\r\n    const getReferralLink = () => {\r\n        if (typeof window === 'undefined' || !address) return '';\r\n        const baseUrl = window.location.origin;\r\n        return `${baseUrl}?ref=${address}`;\r\n    };\r\n\r\n    const handleCopyLink = async () => {\r\n        const link = getReferralLink();\r\n        try {\r\n            await navigator.clipboard.writeText(link);\r\n            setCopied(true);\r\n            setTimeout(() => setCopied(false), 2000);\r\n        } catch (err) {\r\n            console.error('Failed to copy link:', err);\r\n        }\r\n    };\r\n\r\n    if (!address) return null;\r\n\r\n    return (\r\n        <div className=\"bg-gradient-to-br from-blockbelle-indigo/10 via-blockbelle-purple/10 to-blockbelle-pink/10 border-2 border-blockbelle-purple/30 rounded-xl p-6 shadow-lg\">\r\n            <div className=\"flex items-center space-x-3 mb-4\">\r\n                <div className=\"bg-gradient-to-br from-blockbelle-purple to-blockbelle-indigo p-3 rounded-lg\">\r\n                    <UserPlusIcon className=\"h-6 w-6 text-white\" />\r\n                </div>\r\n                <div>\r\n                    <h3 className=\"text-xl font-bold text-gradient-blockbelle\">Invite & Earn</h3>\r\n                    <p className=\"text-sm text-gray-600\">Share BlockBelle with friends</p>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"bg-white/70 rounded-lg p-4 mb-4\">\r\n                <p className=\"text-sm text-gray-700 mb-3\">\r\n                    Invite friends to join BlockBelle and earn G$ rewards! You'll receive:\r\n                </p>\r\n                <div className=\"space-y-2\">\r\n                    <div className=\"flex items-center space-x-2 text-sm\">\r\n                        <div className=\"bg-blockbelle-gold/20 rounded-full p-1\">\r\n                            <CheckCircleIcon className=\"h-4 w-4 text-blockbelle-gold\" />\r\n                        </div>\r\n                        <span className=\"text-gray-700\"><strong>500 G$</strong> for your first referral</span>\r\n                    </div>\r\n                    <div className=\"flex items-center space-x-2 text-sm\">\r\n                        <div className=\"bg-blockbelle-gold/20 rounded-full p-1\">\r\n                            <CheckCircleIcon className=\"h-4 w-4 text-blockbelle-gold\" />\r\n                        </div>\r\n                        <span className=\"text-gray-700\"><strong>1500 G$</strong> for 3 referrals</span>\r\n                    </div>\r\n                    <div className=\"flex items-center space-x-2 text-sm\">\r\n                        <div className=\"bg-blockbelle-gold/20 rounded-full p-1\">\r\n                            <CheckCircleIcon className=\"h-4 w-4 text-blockbelle-gold\" />\r\n                        </div>\r\n                        <span className=\"text-gray-700\"><strong>3000 G$</strong> for 5 referrals</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"bg-white rounded-lg p-3 mb-3 border border-gray-200\">\r\n                <p className=\"text-xs text-gray-500 mb-1\">Your Referral Link</p>\r\n                <p className=\"text-sm text-gray-800 font-mono break-all\">\r\n                    {getReferralLink()}\r\n                </p>\r\n            </div>\r\n\r\n            <button\r\n                onClick={handleCopyLink}\r\n                className={`w-full font-semibold py-3 px-6 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 ${copied\r\n                        ? 'bg-green-500 text-white'\r\n                        : 'gradient-blockbelle hover:opacity-90 text-white'\r\n                    }`}\r\n            >\r\n                {copied ? (\r\n                    <span className=\"flex items-center justify-center\">\r\n                        <CheckCircleIcon className=\"h-5 w-5 mr-2\" />\r\n                        Link Copied!\r\n                    </span>\r\n                ) : (\r\n                    <span className=\"flex items-center justify-center\">\r\n                        <LinkIcon className=\"h-5 w-5 mr-2\" />\r\n                        Copy Invite Link\r\n                    </span>\r\n                )}\r\n            </button>\r\n\r\n            <p className=\"text-xs text-gray-500 text-center mt-3\">\r\n                Your friends will also earn rewards when they join!\r\n            </p>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;;;AAJA;;;;AAMe,SAAS;;IACpB,MAAM,EAAE,OAAO,EAAE,GAAG,IAAA,mOAAU;IAC9B,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,gOAAQ,EAAC;IAErC,MAAM,kBAAkB;QACpB,IAAI,+CAAkB,eAAe,CAAC,SAAS,OAAO;QACtD,MAAM,UAAU,OAAO,QAAQ,CAAC,MAAM;QACtC,OAAO,GAAG,QAAQ,KAAK,EAAE,SAAS;IACtC;IAEA,MAAM,iBAAiB;QACnB,MAAM,OAAO;QACb,IAAI;YACA,MAAM,UAAU,SAAS,CAAC,SAAS,CAAC;YACpC,UAAU;YACV,WAAW,IAAM,UAAU,QAAQ;QACvC,EAAE,OAAO,KAAK;YACV,QAAQ,KAAK,CAAC,wBAAwB;QAC1C;IACJ;IAEA,IAAI,CAAC,SAAS,OAAO;IAErB,qBACI,oPAAC;QAAI,WAAU;;0BACX,oPAAC;gBAAI,WAAU;;kCACX,oPAAC;wBAAI,WAAU;kCACX,cAAA,oPAAC,iSAAY;4BAAC,WAAU;;;;;;;;;;;kCAE5B,oPAAC;;0CACG,oPAAC;gCAAG,WAAU;0CAA6C;;;;;;0CAC3D,oPAAC;gCAAE,WAAU;0CAAwB;;;;;;;;;;;;;;;;;;0BAI7C,oPAAC;gBAAI,WAAU;;kCACX,oPAAC;wBAAE,WAAU;kCAA6B;;;;;;kCAG1C,oPAAC;wBAAI,WAAU;;0CACX,oPAAC;gCAAI,WAAU;;kDACX,oPAAC;wCAAI,WAAU;kDACX,cAAA,oPAAC,0SAAe;4CAAC,WAAU;;;;;;;;;;;kDAE/B,oPAAC;wCAAK,WAAU;;0DAAgB,oPAAC;0DAAO;;;;;;4CAAe;;;;;;;;;;;;;0CAE3D,oPAAC;gCAAI,WAAU;;kDACX,oPAAC;wCAAI,WAAU;kDACX,cAAA,oPAAC,0SAAe;4CAAC,WAAU;;;;;;;;;;;kDAE/B,oPAAC;wCAAK,WAAU;;0DAAgB,oPAAC;0DAAO;;;;;;4CAAgB;;;;;;;;;;;;;0CAE5D,oPAAC;gCAAI,WAAU;;kDACX,oPAAC;wCAAI,WAAU;kDACX,cAAA,oPAAC,0SAAe;4CAAC,WAAU;;;;;;;;;;;kDAE/B,oPAAC;wCAAK,WAAU;;0DAAgB,oPAAC;0DAAO;;;;;;4CAAgB;;;;;;;;;;;;;;;;;;;;;;;;;0BAKpE,oPAAC;gBAAI,WAAU;;kCACX,oPAAC;wBAAE,WAAU;kCAA6B;;;;;;kCAC1C,oPAAC;wBAAE,WAAU;kCACR;;;;;;;;;;;;0BAIT,oPAAC;gBACG,SAAS;gBACT,WAAW,CAAC,0HAA0H,EAAE,SAC9H,4BACA,mDACJ;0BAEL,uBACG,oPAAC;oBAAK,WAAU;;sCACZ,oPAAC,0SAAe;4BAAC,WAAU;;;;;;wBAAiB;;;;;;yCAIhD,oPAAC;oBAAK,WAAU;;sCACZ,oPAAC,qRAAQ;4BAAC,WAAU;;;;;;wBAAiB;;;;;;;;;;;;0BAMjD,oPAAC;gBAAE,WAAU;0BAAyC;;;;;;;;;;;;AAKlE;GA7FwB;;QACA,mOAAU;;;KADV"}},
    {"offset": {"line": 5116, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/Folder/BlockBelle/next-frontend/src/components/Account.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useAccount } from 'wagmi';\r\nimport { SelfQRcodeWrapper, SelfAppBuilder, countries } from '@selfxyz/qrcode';\r\nimport type { SelfApp } from '@selfxyz/qrcode';\r\nimport { useRegistration } from '@/hooks/useRegistration';\r\nimport { useSelfVerification } from '@/hooks/useSelfVerification';\r\nimport { CheckCircleIcon, XCircleIcon } from '@heroicons/react/24/solid';\r\nimport Tier3Badge from '@/components/Tier3Badge';\r\nimport GoodDollarClaim from '@/components/GoodDollarClaim';\r\nimport QuestBoard from '@/components/QuestBoard';\r\nimport ReferralCard from '@/components/ReferralCard';\r\n\r\nexport default function Account() {\r\n  const { address, isConnected } = useAccount();\r\n  const { isRegistered, ensName } = useRegistration();\r\n  const { verificationData, isLoading: isLoadingVerification, refreshVerification } = useSelfVerification();\r\n  const [selfApp, setSelfApp] = useState<SelfApp | null>(null);\r\n  const [showQRCode, setShowQRCode] = useState(false);\r\n  const [isVerifying, setIsVerifying] = useState(false);\r\n  const [showVerificationModal, setShowVerificationModal] = useState(false);\r\n  const [verifiedGender, setVerifiedGender] = useState<'female' | 'male' | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (!address || !isConnected) {\r\n      setSelfApp(null);\r\n      return;\r\n    }\r\n\r\n    // Initialize Self App\r\n    const app = new SelfAppBuilder({\r\n      version: 2,\r\n      appName: process.env.NEXT_PUBLIC_SELF_APP_NAME || 'BlockBelle',\r\n      scope: process.env.NEXT_PUBLIC_SELF_SCOPE || 'blockbelle-chat',\r\n      endpoint: process.env.NEXT_PUBLIC_SELF_ENDPOINT || '0x72493afca2789da494dd3695d74b50de7774336a', // ProofOfHuman contract\r\n      logoBase64: 'https://i.postimg.cc/mrmVf9hm/self.png',\r\n      userId: address,\r\n      endpointType: 'celo', // Celo Mainnet\r\n      userIdType: 'hex',\r\n      userDefinedData: `BlockBelle verification for ${ensName || address}`,\r\n      disclosures: {\r\n        minimumAge: 18,\r\n        excludedCountries: [\r\n          countries.CUBA,\r\n          countries.IRAN,\r\n          countries.NORTH_KOREA,\r\n          countries.RUSSIA,\r\n        ],\r\n        nationality: true,\r\n        gender: true,\r\n      },\r\n    }).build();\r\n\r\n    setSelfApp(app);\r\n  }, [address, isConnected, ensName]);\r\n\r\n  const handleSuccessfulVerification = async (verificationResult?: any) => {\r\n    setIsVerifying(true);\r\n\r\n    try {\r\n      // Extract gender from Self Protocol response\r\n      // The verificationResult should contain the disclosed data\r\n      console.log('Verification result:', verificationResult);\r\n\r\n      // Try to extract gender from the response\r\n      // Self Protocol may return it in different formats, so we check multiple possibilities\r\n      const gender = verificationResult?.gender ||\r\n        verificationResult?.disclosures?.gender ||\r\n        verificationResult?.data?.gender;\r\n\r\n      console.log('Extracted gender:', gender);\r\n\r\n      // Store the gender\r\n      if (gender) {\r\n        setVerifiedGender(gender.toLowerCase());\r\n      }\r\n\r\n      // Check if user is female\r\n      const isFemale = gender?.toLowerCase() === 'female' || gender?.toLowerCase() === 'f';\r\n\r\n      if (!isFemale) {\r\n        // Male or other gender - show redirect message immediately\r\n        setIsVerifying(false);\r\n        setShowQRCode(false);\r\n        setShowVerificationModal(true);\r\n        return; // Don't proceed with blockchain verification\r\n      }\r\n\r\n      // Female - proceed with blockchain verification\r\n      await new Promise(resolve => setTimeout(resolve, 3000));\r\n\r\n      setShowQRCode(false);\r\n\r\n      // Show success modal after a brief delay\r\n      setTimeout(() => {\r\n        setShowVerificationModal(true);\r\n      }, 1000);\r\n    } catch (error) {\r\n      console.error('Error during verification:', error);\r\n    } finally {\r\n      setIsVerifying(false);\r\n    }\r\n  };\r\n\r\n  const handleVerificationError = (error: { error_code?: string; reason?: string }) => {\r\n    console.error('Verification error:', error);\r\n    setIsVerifying(false);\r\n  };\r\n\r\n  if (!isConnected || !address) {\r\n    return (\r\n      <div className=\"bg-gradient-to-br from-blockbelle-pink/10 via-blockbelle-purple/10 to-blockbelle-indigo/10 shadow-lg rounded-xl p-4 sm:p-6 border border-blockbelle-purple/20\">\r\n        <h2 className=\"text-2xl font-bold text-gradient-blockbelle mb-4\">Account</h2>\r\n        <p className=\"text-gray-600\">Please connect your wallet to view your account.</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Account Info */}\r\n      <div className=\"bg-gradient-to-br from-blockbelle-pink/10 via-blockbelle-purple/10 to-blockbelle-indigo/10 shadow-lg rounded-xl p-4 sm:p-6 border border-blockbelle-purple/20\">\r\n        <h2 className=\"text-2xl font-bold text-gradient-blockbelle mb-4\">Account Information</h2>\r\n        <div className=\"space-y-3\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-blockbelle-purple\">Wallet Address</label>\r\n            <p className=\"mt-1 text-sm text-gray-900 font-mono\">{address}</p>\r\n          </div>\r\n          {isRegistered && ensName && (\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-blockbelle-purple\">ENS Name</label>\r\n              <div className=\"mt-1 flex items-center gap-2\">\r\n                <p className=\"text-sm text-gray-900\">{ensName}</p>\r\n                {verificationData.selfVerified && <Tier3Badge size=\"sm\" />}\r\n              </div>\r\n            </div>\r\n          )}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-blockbelle-purple\">Registration Status</label>\r\n            <div className=\"mt-1 flex items-center\">\r\n              {isRegistered ? (\r\n                <>\r\n                  <CheckCircleIcon className=\"h-5 w-5 text-blockbelle-pink mr-2\" />\r\n                  <span className=\"text-sm text-blockbelle-pink font-medium\">Registered</span>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <XCircleIcon className=\"h-5 w-5 text-amber-500 mr-2\" />\r\n                  <span className=\"text-sm text-amber-600 font-medium\">Not Registered</span>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n          {verificationData.selfVerified && (\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-blockbelle-purple\">Verification Tier</label>\r\n              <div className=\"mt-1\">\r\n                <Tier3Badge size=\"md\" showLabel={true} />\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Self Verification Section */}\r\n      <div className=\"bg-gradient-to-br from-blockbelle-pink/10 via-blockbelle-purple/10 to-blockbelle-indigo/10 shadow-lg rounded-xl p-4 sm:p-6 border border-blockbelle-purple/20\">\r\n        <h2 className=\"text-2xl font-bold text-gradient-blockbelle mb-4\">Identity Verification</h2>\r\n        <p className=\"text-sm text-gray-600 mb-6\">\r\n          Verify your identity using Self Protocol to unlock <span className=\"font-semibold text-blockbelle-purple\">Tier 3 status</span> and build trust in the community.\r\n        </p>\r\n\r\n        {isLoadingVerification ? (\r\n          <div className=\"flex items-center justify-center py-8\">\r\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blockbelle-purple\"></div>\r\n          </div>\r\n        ) : verificationData.selfVerified ? (\r\n          <div className=\"border-2 border-blockbelle-gold bg-gradient-to-br from-blockbelle-gold/10 to-blockbelle-gold/5 rounded-xl p-6 shadow-lg\">\r\n            <div className=\"flex items-start\">\r\n              <div className=\"mr-3 mt-0.5\">\r\n                <Tier3Badge size=\"lg\" />\r\n              </div>\r\n              <div className=\"flex-1\">\r\n                <div className=\"flex items-center gap-2 mb-2\">\r\n                  <h3 className=\"text-lg font-semibold text-blockbelle-purple\">Tier 3 - Verified</h3>\r\n                  <CheckCircleIcon className=\"h-5 w-5 text-blockbelle-pink\" />\r\n                </div>\r\n                <div className=\"space-y-2 text-sm text-gray-700\">\r\n                  <p>\r\n                    <span className=\"font-medium\">Verified At:</span>{' '}\r\n                    {verificationData.verifiedAt\r\n                      ? new Date(verificationData.verifiedAt).toLocaleString()\r\n                      : 'N/A'}\r\n                  </p>\r\n                  {verificationData.nationality && (\r\n                    <p>\r\n                      <span className=\"font-medium\">Nationality:</span> {verificationData.nationality}\r\n                    </p>\r\n                  )}\r\n                  {verificationData.gender && (\r\n                    <p>\r\n                      <span className=\"font-medium\">Gender:</span> {verificationData.gender}\r\n                    </p>\r\n                  )}\r\n                  {verificationData.minimumAge && (\r\n                    <p>\r\n                      <span className=\"font-medium\">Age Verification:</span> 18+ confirmed\r\n                    </p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-4\">\r\n            {!showQRCode ? (\r\n              <div>\r\n                <button\r\n                  onClick={() => setShowQRCode(true)}\r\n                  className=\"gradient-blockbelle hover:opacity-90 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105\"\r\n                >\r\n                  Verify with Self Protocol\r\n                </button>\r\n                <p className=\"mt-3 text-xs text-gray-500\">\r\n                  You'll need the Self mobile app to complete verification. Download it from your app store.\r\n                </p>\r\n              </div>\r\n            ) : (\r\n              <div className=\"border border-gray-200 rounded-lg p-6 bg-gray-50\">\r\n                <div className=\"flex justify-between items-start mb-4\">\r\n                  <h3 className=\"text-lg font-semibold text-gray-900\">Scan QR Code</h3>\r\n                  <button\r\n                    onClick={() => setShowQRCode(false)}\r\n                    className=\"text-gray-400 hover:text-gray-600\"\r\n                  >\r\n                    <XCircleIcon className=\"h-6 w-6\" />\r\n                  </button>\r\n                </div>\r\n                <p className=\"text-sm text-gray-600 mb-4\">\r\n                  Open the Self app on your mobile device and scan this QR code to verify your identity.\r\n                </p>\r\n                {selfApp && (\r\n                  <div className=\"flex justify-center\">\r\n                    {isVerifying ? (\r\n                      <div className=\"text-center py-8\">\r\n                        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blockbelle-purple mx-auto mb-4\"></div>\r\n                        <p className=\"text-sm text-gray-600\">Processing verification...</p>\r\n                      </div>\r\n                    ) : (\r\n                      <SelfQRcodeWrapper\r\n                        selfApp={selfApp}\r\n                        onSuccess={handleSuccessfulVerification}\r\n                        onError={handleVerificationError}\r\n                        size={300}\r\n                        darkMode={false}\r\n                      />\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Additional Info */}\r\n      <div className=\"bg-gradient-to-br from-blockbelle-purple/10 to-blockbelle-indigo/10 border border-blockbelle-purple/30 rounded-xl p-4\">\r\n        <h3 className=\"text-sm font-semibold text-blockbelle-purple mb-2\">About Self Protocol & Tier 3</h3>\r\n        <p className=\"text-xs text-gray-700 mb-2\">\r\n          Self Protocol provides privacy-preserving identity verification using zero-knowledge proofs.\r\n          Your personal information is never shared - only the verification result is confirmed on-chain.\r\n        </p>\r\n        <p className=\"text-xs text-blockbelle-purple font-medium\">\r\n          ✨ Tier 3 users display a crown badge next to their username, indicating verified identity status.\r\n        </p>\r\n      </div>\r\n\r\n      {/* Quest Board */}\r\n      <QuestBoard />\r\n\r\n      {/* Referral Card */}\r\n      <ReferralCard />\r\n\r\n      {/* Gender-Specific Verification Modal */}\r\n      {showVerificationModal && (\r\n        <div className=\"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-2xl p-8 max-w-md w-full mx-4 text-center shadow-2xl transform transition-all\">\r\n            {verifiedGender === 'female' || verificationData.gender?.toLowerCase() === 'female' ? (\r\n              // Female Success Message\r\n              <>\r\n                <div className=\"text-7xl mb-4 animate-bounce\">👑</div>\r\n                <h3 className=\"text-3xl font-bold bg-gradient-to-r from-pink-500 via-purple-600 to-indigo-700 bg-clip-text text-transparent mb-3\">\r\n                  Congratulations, Queen!\r\n                </h3>\r\n                <p className=\"text-xl text-gray-700 mb-6 font-medium\">\r\n                  You're officially verified\r\n                </p>\r\n                <p className=\"text-sm text-gray-600 mb-8\">\r\n                  Welcome to BlockBelle - where queens in Web3 connect, collaborate, and thrive together.\r\n                </p>\r\n                <button\r\n                  onClick={() => setShowVerificationModal(false)}\r\n                  className=\"gradient-blockbelle hover:opacity-90 text-white font-bold py-4 px-8 rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 w-full\"\r\n                >\r\n                  Enter BlockBelle 👑\r\n                </button>\r\n              </>\r\n            ) : (\r\n              // Male or Other Gender Redirect Message\r\n              <>\r\n                <div className=\"text-7xl mb-4\">💪</div>\r\n                <h3 className=\"text-2xl font-bold text-gray-800 mb-3\">\r\n                  Love the support, King!\r\n                </h3>\r\n                <p className=\"text-lg text-gray-700 mb-6 font-medium\">\r\n                  BlockBelle is a queens-only space\r\n                </p>\r\n                <p className=\"text-sm text-gray-600 mb-8\">\r\n                  This platform is exclusively for women in Web3. Want to support? Share BlockBelle with the amazing women builders in your network!\r\n                </p>\r\n                <button\r\n                  onClick={() => {\r\n                    setShowVerificationModal(false);\r\n                    setShowQRCode(false);\r\n                  }}\r\n                  className=\"bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-4 px-8 rounded-xl transition-all duration-200 w-full\"\r\n                >\r\n                  Close\r\n                </button>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5929, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/Folder/BlockBelle/next-frontend/src/components/GoodDollarClaim.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useAccount, usePublicClient, useWalletClient, useReadContract, useWriteContract } from 'wagmi';\r\nimport { formatUnits } from 'viem';\r\nimport { useIdentitySDK } from '@goodsdks/identity-sdk';\r\nimport ReferralCard from '@/components/ReferralCard';\r\n\r\ninterface GoodDollarClaimProps {\r\n    className?: string;\r\n}\r\n\r\nexport default function GoodDollarClaim({ className = '' }: GoodDollarClaimProps) {\r\n    const { address, isConnected } = useAccount();\r\n    const publicClient = usePublicClient();\r\n    const { data: walletClient } = useWalletClient();\r\n    const identitySDK = useIdentitySDK('production');\r\n\r\n    // Contract Addresses (Celo Mainnet)\r\n    const UBI_SCHEME_ADDRESS = '0x43d72Ff17701B2DA814620735C39C620Ce0ea4A1';\r\n    const GDOLLAR_TOKEN_ADDRESS = '0x62B8B11039FcfE5aB0C56E502b1C372A3d2a9c7A';\r\n\r\n    // ABIs\r\n    const UBI_SCHEME_ABI = [\r\n        {\r\n            inputs: [],\r\n            name: \"checkEntitlement\",\r\n            outputs: [{ name: \"\", type: \"uint256\" }],\r\n            stateMutability: \"view\",\r\n            type: \"function\"\r\n        },\r\n        {\r\n            inputs: [],\r\n            name: \"claim\",\r\n            outputs: [{ name: \"\", type: \"bool\" }],\r\n            stateMutability: \"nonpayable\",\r\n            type: \"function\"\r\n        },\r\n        {\r\n            inputs: [],\r\n            name: \"currentDay\",\r\n            outputs: [{ name: \"\", type: \"uint256\" }],\r\n            stateMutability: \"view\",\r\n            type: \"function\"\r\n        },\r\n        {\r\n            inputs: [],\r\n            name: \"periodStart\",\r\n            outputs: [{ name: \"\", type: \"uint256\" }],\r\n            stateMutability: \"view\",\r\n            type: \"function\"\r\n        }\r\n    ] as const;\r\n\r\n    const ERC20_ABI = [\r\n        {\r\n            inputs: [{ name: \"account\", type: \"address\" }],\r\n            name: \"balanceOf\",\r\n            outputs: [{ name: \"\", type: \"uint256\" }],\r\n            stateMutability: \"view\",\r\n            type: \"function\"\r\n        },\r\n        {\r\n            inputs: [],\r\n            name: \"decimals\",\r\n            outputs: [{ name: \"\", type: \"uint8\" }],\r\n            stateMutability: \"view\",\r\n            type: \"function\"\r\n        }\r\n    ] as const;\r\n\r\n    const [isEnrolled, setIsEnrolled] = useState(false);\r\n    const [isCheckingEnrollment, setIsCheckingEnrollment] = useState(false);\r\n    const [fvLink, setFvLink] = useState<string>('');\r\n    const [showFVLink, setShowFVLink] = useState(false);\r\n    const [claimSuccess, setClaimSuccess] = useState(false);\r\n    const [errorMessage, setErrorMessage] = useState<string>('');\r\n    const [nextClaimTime, setNextClaimTime] = useState<string>('');\r\n\r\n    // Read Contract Hooks\r\n    const { data: entitlementAmount, refetch: refetchEntitlement, isLoading: isLoadingEntitlement } = useReadContract({\r\n        address: UBI_SCHEME_ADDRESS,\r\n        abi: UBI_SCHEME_ABI,\r\n        functionName: 'checkEntitlement',\r\n        query: {\r\n            enabled: !!address && isEnrolled,\r\n        }\r\n    });\r\n\r\n    const { data: balance, refetch: refetchBalance } = useReadContract({\r\n        address: GDOLLAR_TOKEN_ADDRESS,\r\n        abi: ERC20_ABI,\r\n        functionName: 'balanceOf',\r\n        args: address ? [address] : undefined,\r\n        query: {\r\n            enabled: !!address,\r\n        }\r\n    });\r\n\r\n    // Write Contract Hook\r\n    const { writeContractAsync, isPending: isClaiming } = useWriteContract();\r\n\r\n    // Check enrollment status on mount\r\n    useEffect(() => {\r\n        if (address && identitySDK) {\r\n            checkEnrollmentStatus();\r\n        }\r\n    }, [address, identitySDK]);\r\n\r\n    const checkEnrollmentStatus = async () => {\r\n        if (!address || !identitySDK) return;\r\n\r\n        setIsCheckingEnrollment(true);\r\n        setErrorMessage('');\r\n\r\n        try {\r\n            const { isWhitelisted } = await identitySDK.getWhitelistedRoot(address);\r\n            setIsEnrolled(isWhitelisted);\r\n\r\n            if (isWhitelisted) {\r\n                refetchEntitlement();\r\n                refetchBalance();\r\n            }\r\n        } catch (error: any) {\r\n            console.error('Error checking enrollment:', error);\r\n            setErrorMessage('Failed to check enrollment status');\r\n        } finally {\r\n            setIsCheckingEnrollment(false);\r\n        }\r\n    };\r\n\r\n    const handleEnroll = async () => {\r\n        console.log('handleEnroll called. SDK ready:', !!identitySDK, 'Address:', address);\r\n\r\n        if (!identitySDK) {\r\n            setErrorMessage('GoodDollar SDK is initializing. Please try again in a moment.');\r\n            return;\r\n        }\r\n\r\n        if (!address) {\r\n            setErrorMessage('Wallet not connected.');\r\n            return;\r\n        }\r\n\r\n        setErrorMessage('');\r\n        setShowFVLink(true); // Show loading state\r\n        try {\r\n            // Generate Face Verification link\r\n            const callbackUrl = typeof window !== 'undefined' ? window.location.href : '';\r\n            const link = await identitySDK.generateFVLink(false, callbackUrl, 42220); // Celo mainnet chainId\r\n            setFvLink(link);\r\n\r\n            // Automatically open the link in a new window\r\n            if (link && typeof window !== 'undefined') {\r\n                window.open(link, '_blank', 'noopener,noreferrer');\r\n            }\r\n        } catch (error: any) {\r\n            console.error('Error generating FV link:', error);\r\n            setErrorMessage('Failed to generate face verification link');\r\n            setShowFVLink(false);\r\n        }\r\n    };\r\n\r\n    const handleClaim = async () => {\r\n        if (!address || !walletClient) return;\r\n\r\n        setErrorMessage('');\r\n        setClaimSuccess(false);\r\n\r\n        try {\r\n            const tx = await writeContractAsync({\r\n                address: UBI_SCHEME_ADDRESS,\r\n                abi: UBI_SCHEME_ABI,\r\n                functionName: 'claim',\r\n            });\r\n\r\n            console.log('Claim transaction sent:', tx);\r\n\r\n            // Wait for transaction receipt (optional, but good UX)\r\n            if (publicClient && tx) {\r\n                await publicClient.waitForTransactionReceipt({ hash: tx });\r\n            }\r\n\r\n            setClaimSuccess(true);\r\n\r\n            // Refresh data\r\n            refetchEntitlement();\r\n            refetchBalance();\r\n\r\n            // Set next claim time to tomorrow (simplified)\r\n            setNextClaimTime(new Date(Date.now() + 24 * 60 * 60 * 1000).toLocaleString());\r\n\r\n        } catch (error: any) {\r\n            console.error('Error claiming G$:', error);\r\n            if (error.message?.includes('User not allowed')) {\r\n                setErrorMessage('You are not eligible to claim properly yet. Please ensure you are verified.');\r\n            } else {\r\n                setErrorMessage('Failed to claim G$. The transaction may have failed or was rejected.');\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n\r\n    const formatG$ = (value: bigint | undefined) => {\r\n        if (value === undefined) return '0.00';\r\n        // G$ on Celo has 18 decimals\r\n        const formatted = formatUnits(value, 18);\r\n        return Number(formatted).toFixed(2);\r\n    };\r\n\r\n    if (!isConnected || !address) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <div className={`bg-gradient-to-br from-blockbelle-pink/10 via-blockbelle-purple/10 to-blockbelle-indigo/10 shadow-lg rounded-xl p-6 border border-blockbelle-purple/20 ${className}`}>\r\n            <h2 className=\"text-2xl font-bold text-gradient-blockbelle mb-4\">\r\n                🌟 GoodDollar UBI Perk\r\n            </h2>\r\n            <p className=\"text-sm text-gray-600 mb-6\">\r\n                Claim your daily Universal Basic Income (G$) on the Celo network. Complete face verification to get started!\r\n            </p>\r\n\r\n            {errorMessage && (\r\n                <div className=\"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg\">\r\n                    <p className=\"text-sm text-red-600\">{errorMessage}</p>\r\n                </div>\r\n            )}\r\n\r\n            {claimSuccess && (\r\n                <div className=\"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg\">\r\n                    <p className=\"text-sm text-green-600 font-medium\">\r\n                        ✅ Successfully claimed G$! Next claim available at {nextClaimTime}\r\n                    </p>\r\n                </div>\r\n            )}\r\n\r\n            {isCheckingEnrollment ? (\r\n                <div className=\"flex items-center justify-center py-8\">\r\n                    <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blockbelle-purple\"></div>\r\n                    <span className=\"ml-3 text-gray-600\">Checking enrollment status...</span>\r\n                </div>\r\n            ) : !isEnrolled ? (\r\n                <div className=\"space-y-4\">\r\n                    <div className=\"border-2 border-dashed border-blockbelle-purple/30 rounded-xl p-6 bg-white/50\">\r\n                        <h3 className=\"text-lg font-semibold text-blockbelle-purple mb-2\">\r\n                            Not Enrolled Yet\r\n                        </h3>\r\n                        <p className=\"text-sm text-gray-600 mb-4\">\r\n                            Complete face verification to enroll in GoodDollar UBI and start claiming your daily G$ tokens.\r\n                        </p>\r\n                        <button\r\n                            onClick={handleEnroll}\r\n                            disabled={showFVLink || !identitySDK}\r\n                            className=\"gradient-blockbelle hover:opacity-90 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 w-full disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\"\r\n                        >\r\n                            {!identitySDK ? 'Initializing SDK...' : showFVLink ? 'Opening verification...' : 'Start Face Verification →'}\r\n                        </button>\r\n                    </div>\r\n\r\n                    {showFVLink && fvLink && (\r\n                        <div className=\"border border-blockbelle-purple/30 rounded-xl p-6 bg-gradient-to-br from-blockbelle-gold/10 to-blockbelle-gold/5\">\r\n                            <h3 className=\"text-lg font-semibold text-blockbelle-purple mb-2\">\r\n                                Complete Face Verification\r\n                            </h3>\r\n                            <p className=\"text-sm text-gray-600 mb-4\">\r\n                                Click the link below to complete your face verification. This ensures one person = one account for fair UBI distribution.\r\n                            </p>\r\n                            <a\r\n                                href={fvLink}\r\n                                target=\"_blank\"\r\n                                rel=\"noopener noreferrer\"\r\n                                className=\"inline-block gradient-blockbelle hover:opacity-90 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl\"\r\n                            >\r\n                                Verify Your Identity →\r\n                            </a>\r\n                            <p className=\"text-xs text-gray-500 mt-4\">\r\n                                After verification, refresh this page to see your claim status.\r\n                            </p>\r\n                        </div>\r\n                    )}\r\n\r\n                    <div className=\"text-center pt-4\">\r\n                        <p className=\"text-xs text-gray-500\">\r\n                            Don't have a GoodDollar account?{' '}\r\n                            <a\r\n                                href=\"https://wallet.gooddollar.org/open?inviteCode=UKRCQSNFQq&utm_campaign=celo-onlyurl\"\r\n                                target=\"_blank\"\r\n                                rel=\"noopener noreferrer\"\r\n                                className=\"text-blockbelle-purple hover:text-blockbelle-pink font-bold underline ml-1\"\r\n                            >\r\n                                Sign up\r\n                            </a>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                <div className=\"space-y-4\">\r\n                    <div className=\"border-2 border-blockbelle-gold bg-gradient-to-br from-blockbelle-gold/10 to-blockbelle-gold/5 rounded-xl p-6 shadow-lg\">\r\n                        <div className=\"flex items-center justify-between mb-4\">\r\n                            <h3 className=\"text-lg font-semibold text-blockbelle-purple\">\r\n                                ✅ Enrolled in GoodDollar UBI\r\n                            </h3>\r\n                            <div className=\"bg-white/80 rounded-full px-3 py-1 shadow-sm border border-blockbelle-purple/10\">\r\n                                <p className=\"text-xs font-medium text-blockbelle-purple\">\r\n                                    Balance: {formatG$(balance as bigint)} G$\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {isLoadingEntitlement ? (\r\n                            <div className=\"flex items-center justify-center py-4\">\r\n                                <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-blockbelle-purple\"></div>\r\n                                <span className=\"ml-3 text-sm text-gray-600\">Checking eligibility...</span>\r\n                            </div>\r\n                        ) : (\r\n                            <div className=\"space-y-4\">\r\n                                <div className=\"bg-white/70 rounded-lg p-4\">\r\n                                    <p className=\"text-sm text-gray-600 mb-1\">Claimable Amount</p>\r\n                                    <p className=\"text-3xl font-bold text-gradient-blockbelle\">\r\n                                        {claimSuccess ? \"0.00\" : formatG$(entitlementAmount as bigint)} G$\r\n                                    </p>\r\n                                    {nextClaimTime && (\r\n                                        <p className=\"text-xs text-gray-500 mt-2\">\r\n                                            Next claim: {nextClaimTime}\r\n                                        </p>\r\n                                    )}\r\n                                </div>\r\n\r\n                                {!claimSuccess && entitlementAmount && (entitlementAmount as bigint) > 0n ? (\r\n                                    <button\r\n                                        onClick={handleClaim}\r\n                                        disabled={isClaiming}\r\n                                        className=\"gradient-blockbelle hover:opacity-90 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 w-full disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\"\r\n                                    >\r\n                                        {isClaiming ? (\r\n                                            <span className=\"flex items-center justify-center\">\r\n                                                <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\"></div>\r\n                                                Claiming...\r\n                                            </span>\r\n                                        ) : (\r\n                                            'Claim G$ Now'\r\n                                        )}\r\n                                    </button>\r\n                                ) : (\r\n                                    <div className=\"text-center py-4\">\r\n                                        {claimSuccess ? (\r\n                                            <p className=\"text-sm text-green-600 font-medium bg-green-50 px-3 py-2 rounded-lg inline-block\">\r\n                                                🎉 You have claimed your daily G$!\r\n                                            </p>\r\n                                        ) : (\r\n                                            <p className=\"text-sm text-gray-600\">\r\n                                                No G$ available to claim right now. Check back later!\r\n                                            </p>\r\n                                        )}\r\n\r\n                                        {!claimSuccess && (\r\n                                            <button\r\n                                                onClick={() => { refetchEntitlement(); refetchBalance(); }}\r\n                                                className=\"mt-3 text-blockbelle-purple hover:text-blockbelle-pink font-medium text-sm underline block mx-auto\"\r\n                                            >\r\n                                                Refresh Status\r\n                                            </button>\r\n                                        )}\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    <div className=\"bg-gradient-to-br from-blockbelle-purple/10 to-blockbelle-indigo/10 border border-blockbelle-purple/30 rounded-xl p-4 mb-4\">\r\n                        <h3 className=\"text-sm font-semibold text-blockbelle-purple mb-2\">About GoodDollar UBI</h3>\r\n                        <p className=\"text-xs text-gray-700\">\r\n                            GoodDollar provides Universal Basic Income to anyone, anywhere. Your daily G$ claim helps create a more equitable financial system. Gas fees are minimal (~$0.01 on Celo).\r\n                        </p>\r\n                    </div>\r\n\r\n                    {/* Referral Card */}\r\n                    <ReferralCard />\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6603, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/Folder/BlockBelle/next-frontend/src/components/Navbar.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { Bars3Icon, XMarkIcon } from '@heroicons/react/24/outline';\r\n\r\ntype TabType = 'register' | 'group' | 'main' | 'check' | 'account' | 'gooddollar' | 'quests';\r\n\r\ninterface NavbarProps {\r\n    activeTab: TabType;\r\n    setActiveTab: (tab: TabType) => void;\r\n}\r\n\r\nexport default function Navbar({ activeTab, setActiveTab }: NavbarProps) {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n\r\n    const navItems: { id: TabType; label: string }[] = [\r\n        { id: 'register', label: 'Register' },\r\n        { id: 'group', label: 'Group Chat' },\r\n        { id: 'main', label: 'Chat App' },\r\n        { id: 'account', label: 'Account' },\r\n        { id: 'quests', label: 'Quests' },\r\n        { id: 'gooddollar', label: 'GoodDollar UBI' },\r\n    ];\r\n\r\n    const handleTabClick = (tab: TabType) => {\r\n        setActiveTab(tab);\r\n        setIsOpen(false);\r\n    };\r\n\r\n    return (\r\n        <nav className=\"bg-white shadow\">\r\n            <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n                <div className=\"flex justify-between h-16\">\r\n                    <div className=\"flex\">\r\n                        {/* Logo or Brand if needed in Nav, mostly kept clean as per original design */}\r\n                        <div className=\"flex-shrink-0 flex items-center md:hidden\">\r\n                            <span className=\"font-bold text-blockbelle-pink\">Menu</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Desktop Menu */}\r\n                    <div className=\"hidden md:flex space-x-8\">\r\n                        {navItems.map((item) => (\r\n                            <button\r\n                                key={item.id}\r\n                                onClick={() => handleTabClick(item.id)}\r\n                                className={`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${activeTab === item.id\r\n                                    ? 'border-indigo-500 text-indigo-600'\r\n                                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n                                    }`}\r\n                            >\r\n                                {item.label}\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n\r\n                    {/* Mobile Menu Button */}\r\n                    <div className=\"-mr-2 flex items-center md:hidden\">\r\n                        <button\r\n                            onClick={() => setIsOpen(!isOpen)}\r\n                            className=\"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500\"\r\n                        >\r\n                            <span className=\"sr-only\">Open main menu</span>\r\n                            {isOpen ? (\r\n                                <XMarkIcon className=\"block h-6 w-6\" aria-hidden=\"true\" />\r\n                            ) : (\r\n                                <Bars3Icon className=\"block h-6 w-6\" aria-hidden=\"true\" />\r\n                            )}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Mobile Menu */}\r\n            {isOpen && (\r\n                <div className=\"md:hidden\">\r\n                    <div className=\"pt-2 pb-3 space-y-1\">\r\n                        {navItems.map((item) => (\r\n                            <button\r\n                                key={item.id}\r\n                                onClick={() => handleTabClick(item.id)}\r\n                                className={`block pl-3 pr-4 py-2 border-l-4 text-base font-medium w-full text-left ${activeTab === item.id\r\n                                    ? 'bg-indigo-50 border-indigo-500 text-indigo-700'\r\n                                    : 'border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700'\r\n                                    }`}\r\n                            >\r\n                                {item.label}\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </nav>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;;;AAHA;;;AAYe,SAAS,OAAO,EAAE,SAAS,EAAE,YAAY,EAAe;;IACnE,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,gOAAQ,EAAC;IAErC,MAAM,WAA6C;QAC/C;YAAE,IAAI;YAAY,OAAO;QAAW;QACpC;YAAE,IAAI;YAAS,OAAO;QAAa;QACnC;YAAE,IAAI;YAAQ,OAAO;QAAW;QAChC;YAAE,IAAI;YAAW,OAAO;QAAU;QAClC;YAAE,IAAI;YAAU,OAAO;QAAS;QAChC;YAAE,IAAI;YAAc,OAAO;QAAiB;KAC/C;IAED,MAAM,iBAAiB,CAAC;QACpB,aAAa;QACb,UAAU;IACd;IAEA,qBACI,oPAAC;QAAI,WAAU;;0BACX,oPAAC;gBAAI,WAAU;0BACX,cAAA,oPAAC;oBAAI,WAAU;;sCACX,oPAAC;4BAAI,WAAU;sCAEX,cAAA,oPAAC;gCAAI,WAAU;0CACX,cAAA,oPAAC;oCAAK,WAAU;8CAAiC;;;;;;;;;;;;;;;;sCAKzD,oPAAC;4BAAI,WAAU;sCACV,SAAS,GAAG,CAAC,CAAC,qBACX,oPAAC;oCAEG,SAAS,IAAM,eAAe,KAAK,EAAE;oCACrC,WAAW,CAAC,kEAAkE,EAAE,cAAc,KAAK,EAAE,GAC/F,sCACA,8EACA;8CAEL,KAAK,KAAK;mCAPN,KAAK,EAAE;;;;;;;;;;sCAaxB,oPAAC;4BAAI,WAAU;sCACX,cAAA,oPAAC;gCACG,SAAS,IAAM,UAAU,CAAC;gCAC1B,WAAU;;kDAEV,oPAAC;wCAAK,WAAU;kDAAU;;;;;;oCACzB,uBACG,oPAAC,wRAAS;wCAAC,WAAU;wCAAgB,eAAY;;;;;6DAEjD,oPAAC,wRAAS;wCAAC,WAAU;wCAAgB,eAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAQpE,wBACG,oPAAC;gBAAI,WAAU;0BACX,cAAA,oPAAC;oBAAI,WAAU;8BACV,SAAS,GAAG,CAAC,CAAC,qBACX,oPAAC;4BAEG,SAAS,IAAM,eAAe,KAAK,EAAE;4BACrC,WAAW,CAAC,uEAAuE,EAAE,cAAc,KAAK,EAAE,GACpG,mDACA,+FACA;sCAEL,KAAK,KAAK;2BAPN,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;AAe5C;GAlFwB;KAAA"}},
    {"offset": {"line": 6787, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/Folder/BlockBelle/next-frontend/src/components/HomePage.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useCallback } from 'react';\r\nimport Register from '@/components/Register';\r\nimport GroupChat from '@/components/GroupChat';\r\n\r\nimport MainChat from '@/components/MainChat';\r\nimport UserProfile from '@/components/UserProfile';\r\nimport RegistrationCheck from '@/components/RegistrationCheck';\r\nimport SimpleOnboarding from '@/components/SimpleOnboarding';\r\nimport Account from '@/components/Account';\r\nimport GoodDollarClaim from '@/components/GoodDollarClaim';\r\nimport Navbar from '@/components/Navbar';\r\nimport Image from 'next/image';\r\n\r\nexport default function HomePage() {\r\n  const [activeTab, setActiveTab] = useState<\r\n    'register' | 'group' | 'main' | 'check' | 'account' | 'gooddollar'\r\n  >('register');\r\n  const [_hasRegistered, _setHasRegistered] = useState(false);\r\n  const [_showRegistrationCheck, _setShowRegistrationCheck] = useState(false);\r\n\r\n  const handleRegistrationSuccess = useCallback(() => {\r\n    _setHasRegistered(true);\r\n    setActiveTab('main');\r\n  }, []);\r\n\r\n  const handleStartChatting = useCallback(() => {\r\n    console.log('Start Chatting button clicked');\r\n    _setShowRegistrationCheck(true);\r\n    setActiveTab('check');\r\n  }, []);\r\n\r\n  const handleRegistrationCheckComplete = useCallback(() => {\r\n    _setShowRegistrationCheck(false);\r\n    setActiveTab('main');\r\n  }, []);\r\n\r\n  const handleRegistrationRequired = useCallback(() => {\r\n    _setShowRegistrationCheck(false);\r\n    setActiveTab('register');\r\n  }, []);\r\n\r\n  const handleOnboardingComplete = useCallback(() => {\r\n    console.log('SimpleOnboarding onComplete called - DISABLED');\r\n    // Disabled auto-navigation to prevent interference with user clicks\r\n    // setActiveTab('main');\r\n  }, []);\r\n\r\n  const handleOnboardingRegister = useCallback(() => {\r\n    console.log('SimpleOnboarding onRegister called');\r\n    setActiveTab('register');\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100\">\r\n      <header className=\"bg-white shadow\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex justify-between items-center py-6\">\r\n            <h1 className=\"text-2xl sm:text-3xl font-bold text-gray-900\">BlockBelle</h1>\r\n            <div className=\"flex items-center space-x-4\">\r\n              <UserProfile />\r\n              <SimpleOnboarding\r\n                onComplete={handleOnboardingComplete}\r\n                onRegister={handleOnboardingRegister}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      <div className=\"relative bg-gradient-to-r from-pink-500 via-purple-600 to-indigo-700 text-white overflow-hidden\">\r\n        <div className=\"absolute inset-0 bg-black/10\"></div>\r\n        <Image\r\n          src=\"/hero-image.jpg\"\r\n          alt=\"BlockBelle Hero\"\r\n          fill\r\n          className=\"object-cover opacity-10\"\r\n          priority\r\n        />\r\n        <div className=\"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\r\n          <div className=\"text-center\">\r\n            <h1 className=\"text-2xl font-bold mb-2 bg-gradient-to-r from-pink-200 to-purple-200 bg-clip-text text-transparent\">\r\n              BlockBelle\r\n            </h1>\r\n            <p className=\"text-sm mb-3 max-w-xl mx-auto leading-relaxed\">\r\n              The elegant web3 chat dApp where women in blockchain connect,\r\n              collaborate, and share their contributions through ENS-verified\r\n              conversations.\r\n            </p>\r\n            <div className=\"flex justify-center space-x-2 mb-4\">\r\n              <button\r\n                onClick={handleStartChatting}\r\n                className=\"bg-pink-500 hover:bg-pink-600 text-white font-bold py-1 px-3 rounded-full transition-all duration-300 transform hover:scale-105 shadow-lg text-xs\"\r\n              >\r\n                Start Chatting\r\n              </button>\r\n              <button className=\"border border-white text-white hover:bg-white hover:text-purple-700 font-bold py-1 px-3 rounded-full transition-all duration-300 text-xs\">\r\n                View Demo\r\n              </button>\r\n            </div>\r\n            <div className=\"bg-white/10 backdrop-blur-md rounded-xl p-4 border border-white/20 shadow-xl\">\r\n              <h2 className=\"text-lg font-bold mb-2\">Built for Web3 Women</h2>\r\n              <p className=\"text-sm mb-3\">\r\n                Connect with verified ENS identities, create private groups, and\r\n                build meaningful relationships in the web3 space.\r\n              </p>\r\n              <div className=\"grid md:grid-cols-3 gap-3\">\r\n                <div className=\"text-center\">\r\n                  <div className=\"bg-pink-500/30 rounded-full w-10 h-10 flex items-center justify-center mx-auto mb-1 shadow-lg\">\r\n                    <span className=\"text-base\">👩‍💻</span>\r\n                  </div>\r\n                  <h3 className=\"font-semibold mb-1 text-xs\">ENS Verified</h3>\r\n                  <p className=\"text-xs\">\r\n                    All users are verified through ENS domains, ensuring\r\n                    authentic conversations.\r\n                  </p>\r\n                </div>\r\n                <div className=\"text-center\">\r\n                  <div className=\"bg-purple-500/30 rounded-full w-10 h-10 flex items-center justify-center mx-auto mb-1 shadow-lg\">\r\n                    <span className=\"text-base\">👥</span>\r\n                  </div>\r\n                  <h3 className=\"font-semibold mb-1 text-xs\">Group Chats</h3>\r\n                  <p className=\"text-xs\">\r\n                    Create topic-focused groups for DeFi, NFTs, DAOs, and more.\r\n                  </p>\r\n                </div>\r\n                <div className=\"text-center\">\r\n                  <div className=\"bg-indigo-500/30 rounded-full w-10 h-10 flex items-center justify-center mx-auto mb-1 shadow-lg\">\r\n                    <span className=\"text-base\">💬</span>\r\n                  </div>\r\n                  <h3 className=\"font-semibold mb-1 text-xs\">\r\n                    Private Messages\r\n                  </h3>\r\n                  <p className=\"text-xs\">\r\n                    Secure one-on-one conversations with on-chain storage.\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"mt-6 text-center\">\r\n              <p className=\"text-pink-200 text-xs\">\r\n                Built with 💜 for the Web3 Ladies community\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <Navbar activeTab={activeTab} setActiveTab={setActiveTab} />\r\n\r\n      <main className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\r\n        {activeTab === 'register' && (\r\n          <Register onRegistrationSuccess={handleRegistrationSuccess} />\r\n        )}\r\n        {activeTab === 'group' && <GroupChat />}\r\n\r\n        {activeTab === 'main' && <MainChat />}\r\n        {activeTab === 'check' && (\r\n          <RegistrationCheck\r\n            onRegistered={handleRegistrationCheckComplete}\r\n            onNotRegistered={handleRegistrationRequired}\r\n          />\r\n        )}\r\n        {activeTab === 'account' && <Account />}\r\n        {activeTab === 'gooddollar' && <GoodDollarClaim />}\r\n      </main>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}