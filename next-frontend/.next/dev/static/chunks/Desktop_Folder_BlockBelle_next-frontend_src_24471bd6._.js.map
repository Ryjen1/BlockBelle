{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/Folder/BlockBelle/next-frontend/src/config/engagement-rewards.ts"],"sourcesContent":["// GoodDollar Engagement Rewards Configuration\n// Based on guide: https://engagement-rewards.vercel.app/guide\n\n// Contract addresses for Celo Mainnet\nexport const ENGAGEMENT_REWARDS_CONTRACT = {\n  // Development contract - allows anyone to approve apps\n  DEV: '0xb44fC3A592aDaA257AECe1Ae8956019EA53d0465',\n  // Production contract - requires Good Labs approval\n  PROD: '0x25db74CF4E7BA120526fd87e159CF656d94bAE43',\n} as const;\n\n// Using PROD contract - application submitted and pending approval\nexport const ACTIVE_REWARDS_CONTRACT = ENGAGEMENT_REWARDS_CONTRACT.PROD;\n\n// Your app's contract address - WhisprChat contract approved on DEV\nexport const CHATABELLA_APP_ADDRESS = '0x562456dBF6F21d40C96D392Ef6eD1de2e921bF2C'; // WhisprChat contract\n\n// Engagement Rewards ABI - correct based on actual contract\nexport const ENGAGEMENT_REWARDS_ABI = [\n  {\n    inputs: [\n      { name: 'app', type: 'address' },\n      { name: 'inviter', type: 'address' },\n      { name: 'validUntilBlock', type: 'uint256' },\n      { name: 'userSignature', type: 'bytes' },\n      { name: 'appSignature', type: 'bytes' }\n    ],\n    name: 'nonContractAppClaim',\n    outputs: [{ name: '', type: 'bool' }],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [{ name: '', type: 'address' }],\n    name: 'registeredApps',\n    outputs: [{ name: '', type: 'address' }], // Returns owner address, not bool\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [\n      { name: 'app', type: 'address' },\n      { name: 'user', type: 'address' }\n    ],\n    name: 'isUserRegistered',\n    outputs: [{ name: '', type: 'bool' }],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [\n      { name: 'app', type: 'address' },\n      { name: 'user', type: 'address' }\n    ],\n    name: 'canClaim',\n    outputs: [{ name: '', type: 'bool' }],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'claimCooldown',\n    outputs: [{ name: '', type: 'uint256' }],\n    stateMutability: 'view',\n    type: 'function'\n  }\n] as const;\n\n// Reward percentages (uint8, 0-100)\nexport const DEFAULT_REWARD_PERCENTAGES = {\n  // Percentage of reward that goes to user AND inviter combined\n  userAndInviterPercentage: 90, // 90%\n  // Percentage of the above that goes to user (rest goes to inviter)\n  userPercentage: 70, // 70% of 90% goes to user, 30% goes to inviter\n} as const;\n\n// Storage keys for local state\nexport const STORAGE_KEYS = {\n  INVITER_ADDRESS: 'chatabella_inviter',\n  LAST_CLAIM_ATTEMPT: 'chatabella_last_claim',\n  CLAIM_SUCCESS: 'chatabella_claim_success',\n} as const;"],"names":[],"mappings":"AAAA,8CAA8C;AAC9C,8DAA8D;AAE9D,sCAAsC;;;;;;;;;;;;;;;AAC/B,MAAM,8BAA8B;IACzC,uDAAuD;IACvD,KAAK;IACL,oDAAoD;IACpD,MAAM;AACR;AAGO,MAAM,0BAA0B,4BAA4B,IAAI;AAGhE,MAAM,yBAAyB,8CAA8C,sBAAsB;AAGnG,MAAM,yBAAyB;IACpC;QACE,QAAQ;YACN;gBAAE,MAAM;gBAAO,MAAM;YAAU;YAC/B;gBAAE,MAAM;gBAAW,MAAM;YAAU;YACnC;gBAAE,MAAM;gBAAmB,MAAM;YAAU;YAC3C;gBAAE,MAAM;gBAAiB,MAAM;YAAQ;YACvC;gBAAE,MAAM;gBAAgB,MAAM;YAAQ;SACvC;QACD,MAAM;QACN,SAAS;YAAC;gBAAE,MAAM;gBAAI,MAAM;YAAO;SAAE;QACrC,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YAAC;gBAAE,MAAM;gBAAI,MAAM;YAAU;SAAE;QACvC,MAAM;QACN,SAAS;YAAC;gBAAE,MAAM;gBAAI,MAAM;YAAU;SAAE;QACxC,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBAAE,MAAM;gBAAO,MAAM;YAAU;YAC/B;gBAAE,MAAM;gBAAQ,MAAM;YAAU;SACjC;QACD,MAAM;QACN,SAAS;YAAC;gBAAE,MAAM;gBAAI,MAAM;YAAO;SAAE;QACrC,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBAAE,MAAM;gBAAO,MAAM;YAAU;YAC/B;gBAAE,MAAM;gBAAQ,MAAM;YAAU;SACjC;QACD,MAAM;QACN,SAAS;YAAC;gBAAE,MAAM;gBAAI,MAAM;YAAO;SAAE;QACrC,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ,EAAE;QACV,MAAM;QACN,SAAS;YAAC;gBAAE,MAAM;gBAAI,MAAM;YAAU;SAAE;QACxC,iBAAiB;QACjB,MAAM;IACR;CACD;AAGM,MAAM,6BAA6B;IACxC,8DAA8D;IAC9D,0BAA0B;IAC1B,mEAAmE;IACnE,gBAAgB;AAClB;AAGO,MAAM,eAAe;IAC1B,iBAAiB;IACjB,oBAAoB;IACpB,eAAe;AACjB"}},
    {"offset": {"line": 153, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/Folder/BlockBelle/next-frontend/src/hooks/useEngagementRewards.ts"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { useAccount, usePublicClient, useWalletClient, useReadContract } from 'wagmi';\nimport { isAddress, type Address } from 'viem';\nimport {\n  ACTIVE_REWARDS_CONTRACT,\n  CHATABELLA_APP_ADDRESS,\n  ENGAGEMENT_REWARDS_ABI,\n  STORAGE_KEYS,\n} from '@/config/engagement-rewards';\n// TODO: Import and use the official SDK helpers\n// import { useEngagementRewards as useEngagementRewardsSDK } from '@goodsdks/engagement-sdk';\n\nexport interface EngagementRewardsState {\n  inviterAddress: Address | null;\n  canClaimReward: boolean;\n  isCheckingEligibility: boolean;\n  isUserRegistered: boolean;\n  claimError: string | null;\n  hasClaimedBefore: boolean;\n}\n\nexport function useEngagementRewards() {\n  const { address, isConnected } = useAccount();\n  const publicClient = usePublicClient();\n  const { data: walletClient } = useWalletClient();\n\n  const [state, setState] = useState<EngagementRewardsState>({\n    inviterAddress: null,\n    canClaimReward: false,\n    isCheckingEligibility: false,\n    isUserRegistered: false,\n    claimError: null,\n    hasClaimedBefore: false,\n  });\n\n  // Check if app is registered\n  // registeredApps returns the owner address (not a boolean)\n  const { data: appOwner } = useReadContract({\n    address: ACTIVE_REWARDS_CONTRACT,\n    abi: ENGAGEMENT_REWARDS_ABI,\n    functionName: 'registeredApps',\n    args: [CHATABELLA_APP_ADDRESS as Address],\n  });\n\n  // App is registered if it has a non-zero owner address\n  const isAppRegistered = appOwner && appOwner !== '0x0000000000000000000000000000000000000000';\n\n  // Check if user is already registered with the app\n  const { data: isUserRegistered, refetch: refetchUserRegistration } = useReadContract({\n    address: ACTIVE_REWARDS_CONTRACT,\n    abi: ENGAGEMENT_REWARDS_ABI,\n    functionName: 'isUserRegistered',\n    args: address ? [CHATABELLA_APP_ADDRESS as Address, address] : undefined,\n    query: {\n      enabled: !!address && !!isAppRegistered,\n    }\n  });\n\n  // Load inviter from URL or localStorage\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n\n    // Check URL params first\n    const urlParams = new URLSearchParams(window.location.search);\n    const refParam = urlParams.get('ref');\n\n    if (refParam && isAddress(refParam)) {\n      // Store in localStorage\n      localStorage.setItem(STORAGE_KEYS.INVITER_ADDRESS, refParam);\n      setState(prev => ({ ...prev, inviterAddress: refParam as Address }));\n      return;\n    }\n\n    // Fall back to localStorage\n    const stored = localStorage.getItem(STORAGE_KEYS.INVITER_ADDRESS);\n    if (stored && isAddress(stored)) {\n      setState(prev => ({ ...prev, inviterAddress: stored as Address }));\n    }\n  }, []);\n\n  // Check if user has claimed before\n  useEffect(() => {\n    if (typeof window === 'undefined' || !address) return;\n\n    const claimSuccess = localStorage.getItem(STORAGE_KEYS.CLAIM_SUCCESS);\n    if (claimSuccess === address) {\n      setState(prev => ({ ...prev, hasClaimedBefore: true }));\n    }\n  }, [address]);\n\n  // Update user registration state\n  useEffect(() => {\n    setState(prev => ({\n      ...prev,\n      isUserRegistered: !!isUserRegistered,\n    }));\n  }, [isUserRegistered]);\n\n  // Check eligibility to claim\n  const checkEligibility = useCallback(async () => {\n    if (!address || !isConnected || !isAppRegistered || !publicClient) {\n      setState(prev => ({ ...prev, canClaimReward: false }));\n      return;\n    }\n\n    setState(prev => ({ ...prev, isCheckingEligibility: true, claimError: null }));\n\n    try {\n      const canClaim = await publicClient.readContract({\n        address: ACTIVE_REWARDS_CONTRACT,\n        abi: ENGAGEMENT_REWARDS_ABI,\n        functionName: 'canClaim',\n        args: [CHATABELLA_APP_ADDRESS as Address, address],\n      }) as boolean;\n      \n      setState(prev => ({\n        ...prev,\n        canClaimReward: canClaim,\n        claimError: canClaim ? null : 'Not eligible to claim',\n        isCheckingEligibility: false,\n      }));\n    } catch (error: any) {\n      console.error('Error checking eligibility:', error);\n      setState(prev => ({\n        ...prev,\n        canClaimReward: false,\n        claimError: error.message || 'Failed to check eligibility',\n        isCheckingEligibility: false,\n      }));\n    }\n  }, [address, isConnected, isAppRegistered, publicClient]);\n\n  // Check eligibility when user connects\n  useEffect(() => {\n    if (address && isConnected && isAppRegistered) {\n      checkEligibility();\n    }\n  }, [address, isConnected, isAppRegistered, checkEligibility]);\n\n  // Generate signature for claiming\n  // ‚ö†Ô∏è MESSAGE FORMAT MUST MATCH BACKEND SIGNATURE\n  const generateClaimSignature = useCallback(async (\n    inviter: Address,\n    validUntilBlock: bigint\n  ): Promise<`0x${string}`> => {\n    if (!walletClient || !address) {\n      throw new Error('Wallet not connected');\n    }\n\n    // ‚ö†Ô∏è CRITICAL: This message format must exactly match the backend signature format\n    // Currently mismatched with backend - needs to include \"for user {address}\"\n    const message = `Claim engagement reward from app ${CHATABELLA_APP_ADDRESS} for user ${address} with inviter ${inviter} valid until block ${validUntilBlock}`;\n\n    try {\n      const signature = await walletClient.signMessage({\n        account: address,\n        message,\n      });\n\n      return signature;\n    } catch (error: any) {\n      console.error('Error signing message:', error);\n      throw new Error('Failed to sign claim message');\n    }\n  }, [walletClient, address]);\n\n  // Helper to get current block and calculate valid until block\n  const getValidUntilBlock = useCallback(async (): Promise<bigint> => {\n    if (!publicClient) {\n      throw new Error('Public client not available');\n    }\n\n    const currentBlock = await publicClient.getBlockNumber();\n    // Valid for 600 blocks (~30 minutes on Celo with 5s block time)\n    return currentBlock + 600n;\n  }, [publicClient]);\n\n  return {\n    ...state,\n    isAppRegistered: !!isAppRegistered,\n    checkEligibility,\n    generateClaimSignature,\n    getValidUntilBlock,\n    refetchUserRegistration,\n    setInviterAddress: (addr: Address) => {\n      if (typeof window !== 'undefined') {\n        localStorage.setItem(STORAGE_KEYS.INVITER_ADDRESS, addr);\n      }\n      setState(prev => ({ ...prev, inviterAddress: addr }));\n    },\n    markClaimSuccess: () => {\n      if (typeof window !== 'undefined' && address) {\n        localStorage.setItem(STORAGE_KEYS.CLAIM_SUCCESS, address);\n      }\n      setState(prev => ({ ...prev, hasClaimedBefore: true }));\n    },\n  };\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 418, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/Folder/BlockBelle/next-frontend/src/components/EngagementRewardsTest.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useAccount, useReadContract, usePublicClient, useWriteContract, useWaitForTransactionReceipt } from 'wagmi';\nimport { CheckCircleIcon, XCircleIcon, ClockIcon, ExclamationTriangleIcon } from '@heroicons/react/24/outline';\nimport { \n  ACTIVE_REWARDS_CONTRACT, \n  CHATABELLA_APP_ADDRESS, \n  ENGAGEMENT_REWARDS_ABI \n} from '@/config/engagement-rewards';\nimport { useEngagementRewards } from '@/hooks/useEngagementRewards';\nimport { type Address } from 'viem';\n\ninterface TestResult {\n  name: string;\n  status: 'pass' | 'fail' | 'warning' | 'pending';\n  message: string;\n  details?: string;\n  action?: string;\n}\n\nexport default function EngagementRewardsTest() {\n  const { address, isConnected } = useAccount();\n  const publicClient = usePublicClient();\n  const { writeContractAsync } = useWriteContract();\n  \n  const {\n    inviterAddress,\n    isAppRegistered,\n    isUserRegistered,\n    canClaimReward,\n    claimError,\n    generateClaimSignature,\n    getValidUntilBlock,\n    setInviterAddress,\n  } = useEngagementRewards();\n\n  const [tests, setTests] = useState<TestResult[]>([]);\n  const [isRunning, setIsRunning] = useState(false);\n  const [testInviter, setTestInviter] = useState('');\n  const [claimTxHash, setClaimTxHash] = useState<`0x${string}` | null>(null);\n\n  // Wait for claim transaction\n  const { isLoading: isClaimConfirming, isSuccess: isClaimConfirmed } = useWaitForTransactionReceipt({\n    hash: claimTxHash || undefined,\n  });\n\n  // Get app owner to verify registration\n  const { data: appOwner } = useReadContract({\n    address: ACTIVE_REWARDS_CONTRACT,\n    abi: ENGAGEMENT_REWARDS_ABI,\n    functionName: 'registeredApps',\n    args: [CHATABELLA_APP_ADDRESS as Address],\n  });\n\n  // Run integration tests\n  const runTests = async () => {\n    if (!address || !publicClient) return;\n\n    setIsRunning(true);\n    const results: TestResult[] = [];\n\n    // Test 1: Contract connectivity\n    try {\n      const blockNumber = await publicClient.getBlockNumber();\n      results.push({\n        name: 'Contract Connectivity',\n        status: 'pass',\n        message: '‚úÖ Connected to Celo mainnet',\n        details: `Current block: ${blockNumber.toString()}`,\n      });\n    } catch (error: any) {\n      results.push({\n        name: 'Contract Connectivity',\n        status: 'fail',\n        message: '‚ùå Failed to connect to network',\n        details: error.message,\n      });\n    }\n\n    // Test 2: App registration\n    const isRegistered = appOwner && appOwner !== '0x0000000000000000000000000000000000000000';\n    results.push({\n      name: 'App Registration',\n      status: isRegistered ? 'pass' : 'fail',\n      message: isRegistered \n        ? '‚úÖ Chata-Bella is registered in Engagement Rewards contract'\n        : '‚ùå App is not registered',\n      details: isRegistered \n        ? `Owner: ${appOwner}` \n        : 'Visit https://engagement-rewards-dev.vercel.app/ to register',\n      action: isRegistered ? undefined : 'Register your app on the DEV dashboard',\n    });\n\n    // Test 3: User registration status\n    results.push({\n      name: 'User Registration',\n      status: isUserRegistered ? 'warning' : 'pass',\n      message: isUserRegistered\n        ? '‚ö†Ô∏è You have already claimed rewards for this app'\n        : '‚úÖ You can claim rewards (first time)',\n      details: `Address: ${address}`,\n    });\n\n    // Test 4: Inviter configuration\n    results.push({\n      name: 'Inviter Tracking',\n      status: inviterAddress ? 'pass' : 'warning',\n      message: inviterAddress\n        ? `‚úÖ Inviter configured: ${inviterAddress.slice(0, 10)}...`\n        : '‚ö†Ô∏è No inviter set - rewards will only go to user',\n      details: inviterAddress \n        ? 'Both user and inviter will receive rewards'\n        : 'Add ?ref=INVITER_ADDRESS to URL to set inviter',\n      action: inviterAddress ? undefined : 'Set an inviter address to test full flow',\n    });\n\n    // Test 5: Eligibility check\n    if (isRegistered) {\n      try {\n        const canClaim = await publicClient.readContract({\n          address: ACTIVE_REWARDS_CONTRACT,\n          abi: ENGAGEMENT_REWARDS_ABI,\n          functionName: 'canClaim',\n          args: [CHATABELLA_APP_ADDRESS as Address, address],\n        }) as boolean;\n\n        results.push({\n          name: 'Claim Eligibility',\n          status: canClaim ? 'pass' : 'warning',\n          message: canClaim \n            ? '‚úÖ You are eligible to claim rewards!'\n            : `‚ö†Ô∏è Not eligible to claim`,\n          details: canClaim ? 'All eligibility checks passed' : 'Check if user is whitelisted or already claimed',\n        });\n      } catch (error: any) {\n        results.push({\n          name: 'Claim Eligibility',\n          status: 'fail',\n          message: '‚ùå Error checking eligibility',\n          details: error.message,\n        });\n      }\n    }\n\n    // Test 6: Signature generation\n    if (inviterAddress) {\n      try {\n        const validUntilBlock = await getValidUntilBlock();\n        const signature = await generateClaimSignature(inviterAddress, validUntilBlock);\n        \n        results.push({\n          name: 'User Signature Generation',\n          status: 'pass',\n          message: '‚úÖ User signature generated successfully',\n          details: `Signature: ${signature.slice(0, 20)}...`,\n        });\n      } catch (error: any) {\n        results.push({\n          name: 'User Signature Generation',\n          status: 'fail',\n          message: '‚ùå Failed to generate signature',\n          details: error.message,\n          action: 'Ensure wallet is connected and unlocked',\n        });\n      }\n    }\n\n    // Test 7: Backend signature API\n    if (inviterAddress) {\n      try {\n        const validUntilBlock = await getValidUntilBlock();\n        const response = await fetch('/api/engagement-rewards/sign', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            user: address,\n            inviter: inviterAddress,\n            validUntilBlock: validUntilBlock.toString(),\n          }),\n        });\n\n        if (response.ok) {\n          const data = await response.json();\n          results.push({\n            name: 'Backend Signature API',\n            status: 'pass',\n            message: '‚úÖ Backend signing API working',\n            details: `App signature generated: ${data.signature.slice(0, 20)}...`,\n          });\n        } else {\n          const error = await response.json();\n          results.push({\n            name: 'Backend Signature API',\n            status: 'fail',\n            message: '‚ùå Backend API failed',\n            details: error.error || 'Unknown error',\n            action: 'Check APP_SIGNING_KEY in .env.local',\n          });\n        }\n      } catch (error: any) {\n        results.push({\n          name: 'Backend Signature API',\n          status: 'fail',\n          message: '‚ùå Failed to call backend API',\n          details: error.message,\n        });\n      }\n    }\n\n    // Test 8: Smart contract integration\n    results.push({\n      name: 'Smart Contract Integration',\n      status: 'pass',\n      message: '‚úÖ WhisprChat contract has engagement rewards',\n      details: `Contract: ${CHATABELLA_APP_ADDRESS}`,\n    });\n\n    setTests(results);\n    setIsRunning(false);\n  };\n\n  // Test actual claim flow\n  const testClaim = async () => {\n    if (!address || !inviterAddress) {\n      alert('Please connect wallet and set an inviter address');\n      return;\n    }\n\n    setIsRunning(true);\n    try {\n      // Get valid until block\n      const validUntilBlock = await getValidUntilBlock();\n\n      // Generate user signature\n      const userSignature = await generateClaimSignature(inviterAddress, validUntilBlock);\n\n      // Get app signature from backend\n      const response = await fetch('/api/engagement-rewards/sign', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          user: address,\n          inviter: inviterAddress,\n          validUntilBlock: validUntilBlock.toString(),\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to get app signature');\n      }\n\n      const { signature: appSignature } = await response.json();\n\n      // Submit claim transaction\n      const hash = await writeContractAsync({\n        address: ACTIVE_REWARDS_CONTRACT,\n        abi: ENGAGEMENT_REWARDS_ABI,\n        functionName: 'nonContractAppClaim',\n        args: [\n          CHATABELLA_APP_ADDRESS as Address,\n          inviterAddress,\n          validUntilBlock,\n          userSignature,\n          appSignature as `0x${string}`,\n        ],\n      });\n\n      setClaimTxHash(hash);\n      console.log('Claim transaction submitted:', hash);\n\n    } catch (error: any) {\n      console.error('Error testing claim:', error);\n      alert(`Claim failed: ${error.message}`);\n    } finally {\n      setIsRunning(false);\n    }\n  };\n\n  useEffect(() => {\n    if (isConnected && address) {\n      runTests();\n    }\n  }, [isConnected, address, inviterAddress]);\n\n  if (!isConnected) {\n    return (\n      <div className=\"bg-yellow-50 border-2 border-yellow-200 rounded-xl p-6\">\n        <h3 className=\"text-lg font-bold text-yellow-900 mb-2\">‚ö†Ô∏è Wallet Not Connected</h3>\n        <p className=\"text-yellow-800\">Please connect your wallet to test engagement rewards integration.</p>\n      </div>\n    );\n  }\n\n  const getStatusIcon = (status: TestResult['status']) => {\n    switch (status) {\n      case 'pass':\n        return <CheckCircleIcon className=\"h-5 w-5 text-green-600\" />;\n      case 'fail':\n        return <XCircleIcon className=\"h-5 w-5 text-red-600\" />;\n      case 'warning':\n        return <ExclamationTriangleIcon className=\"h-5 w-5 text-yellow-600\" />;\n      case 'pending':\n        return <ClockIcon className=\"h-5 w-5 text-blue-600\" />;\n    }\n  };\n\n  const getStatusColor = (status: TestResult['status']) => {\n    switch (status) {\n      case 'pass':\n        return 'border-green-500 bg-green-50';\n      case 'fail':\n        return 'border-red-500 bg-red-50';\n      case 'warning':\n        return 'border-yellow-500 bg-yellow-50';\n      case 'pending':\n        return 'border-blue-500 bg-blue-50';\n    }\n  };\n\n  const passedTests = tests.filter(t => t.status === 'pass').length;\n  const totalTests = tests.length;\n  const allPassed = passedTests === totalTests;\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl p-6 text-white\">\n        <h2 className=\"text-2xl font-bold mb-2\">üß™ Engagement Rewards Integration Test</h2>\n        <p className=\"text-purple-100\">Testing your GoodDollar Engagement Rewards setup</p>\n      </div>\n\n      {/* Config */}\n      <div className=\"bg-white rounded-xl p-6 shadow-lg\">\n        <h3 className=\"text-lg font-bold mb-4\">üìã Configuration</h3>\n        <div className=\"space-y-3 text-sm\">\n          <div className=\"flex justify-between items-center\">\n            <span className=\"text-gray-600\">Rewards Contract:</span>\n            <span className=\"font-mono text-xs bg-gray-100 px-2 py-1 rounded\">DEV</span>\n          </div>\n          <div className=\"flex justify-between items-center\">\n            <span className=\"text-gray-600\">App Address:</span>\n            <span className=\"font-mono text-xs\">{CHATABELLA_APP_ADDRESS.slice(0, 10)}...</span>\n          </div>\n          <div className=\"flex justify-between items-center\">\n            <span className=\"text-gray-600\">Your Address:</span>\n            <span className=\"font-mono text-xs\">{address?.slice(0, 10)}...</span>\n          </div>\n          <div className=\"flex justify-between items-center\">\n            <span className=\"text-gray-600\">Inviter:</span>\n            <span className=\"font-mono text-xs\">\n              {inviterAddress ? `${inviterAddress.slice(0, 10)}...` : 'Not set'}\n            </span>\n          </div>\n        </div>\n\n        {/* Set test inviter */}\n        {!inviterAddress && (\n          <div className=\"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n            <p className=\"text-sm text-blue-800 mb-2\">Set a test inviter address:</p>\n            <div className=\"flex space-x-2\">\n              <input\n                type=\"text\"\n                placeholder=\"0x...\"\n                value={testInviter}\n                onChange={(e) => setTestInviter(e.target.value)}\n                className=\"flex-1 px-3 py-2 border border-blue-300 rounded-lg text-sm\"\n              />\n              <button\n                onClick={() => {\n                  if (testInviter.startsWith('0x')) {\n                    setInviterAddress(testInviter as Address);\n                  }\n                }}\n                className=\"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-blue-700\"\n              >\n                Set\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Test Results */}\n      <div className=\"bg-white rounded-xl p-6 shadow-lg\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <h3 className=\"text-lg font-bold\">Test Results</h3>\n          {tests.length > 0 && (\n            <div className={`px-4 py-2 rounded-full text-sm font-semibold ${\n              allPassed ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800'\n            }`}>\n              {passedTests}/{totalTests} Passed\n            </div>\n          )}\n        </div>\n\n        {isRunning && tests.length === 0 ? (\n          <div className=\"flex items-center justify-center py-8\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600\"></div>\n            <span className=\"ml-3 text-gray-600\">Running tests...</span>\n          </div>\n        ) : (\n          <div className=\"space-y-3\">\n            {tests.map((test, index) => (\n              <div\n                key={index}\n                className={`border-l-4 rounded-lg p-4 ${getStatusColor(test.status)}`}\n              >\n                <div className=\"flex items-start space-x-3\">\n                  {getStatusIcon(test.status)}\n                  <div className=\"flex-1\">\n                    <h4 className=\"font-semibold text-gray-900\">{test.name}</h4>\n                    <p className=\"text-sm text-gray-700 mt-1\">{test.message}</p>\n                    {test.details && (\n                      <p className=\"text-xs text-gray-600 mt-1\">{test.details}</p>\n                    )}\n                    {test.action && (\n                      <p className=\"text-xs text-blue-700 mt-2 font-medium\">‚Üí {test.action}</p>\n                    )}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Actions */}\n      <div className=\"bg-white rounded-xl p-6 shadow-lg\">\n        <h3 className=\"text-lg font-bold mb-4\">üé¨ Test Actions</h3>\n        <div className=\"space-y-3\">\n          <button\n            onClick={runTests}\n            disabled={isRunning}\n            className=\"w-full bg-purple-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            {isRunning ? 'Running Tests...' : 'üîÑ Run Tests Again'}\n          </button>\n\n          {allPassed && inviterAddress && !isUserRegistered && (\n            <button\n              onClick={testClaim}\n              disabled={isRunning || isClaimConfirming}\n              className=\"w-full bg-gradient-to-r from-green-600 to-emerald-600 text-white py-3 px-6 rounded-lg font-semibold hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {isClaimConfirming \n                ? '‚è≥ Claiming...' \n                : isClaimConfirmed \n                  ? '‚úÖ Claim Successful!'\n                  : 'üéÅ Test Actual Claim Transaction'}\n            </button>\n          )}\n\n          {claimTxHash && (\n            <div className=\"p-4 bg-green-50 border border-green-200 rounded-lg\">\n              <p className=\"text-sm text-green-800 mb-2\">\n                {isClaimConfirming ? '‚è≥ Transaction confirming...' : '‚úÖ Claim transaction submitted!'}\n              </p>\n              <a\n                href={`https://celoscan.io/tx/${claimTxHash}`}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"text-sm text-green-700 hover:underline break-all\"\n              >\n                View on Celoscan ‚Üí\n              </a>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Next Steps */}\n      {allPassed && (\n        <div className=\"bg-green-50 border-2 border-green-200 rounded-xl p-6\">\n          <h3 className=\"text-lg font-bold text-green-900 mb-3\">üéâ Integration Successful!</h3>\n          <p className=\"text-green-800 mb-4\">Your engagement rewards integration is working correctly.</p>\n          <div className=\"space-y-2 text-sm text-green-800\">\n            <p>‚úÖ Contract connectivity verified</p>\n            <p>‚úÖ App registration confirmed</p>\n            <p>‚úÖ Signature generation working</p>\n            <p>‚úÖ Backend API operational</p>\n          </div>\n          <div className=\"mt-4 p-4 bg-white rounded-lg\">\n            <p className=\"text-sm font-semibold text-gray-900 mb-2\">Ready to apply for engagement pool:</p>\n            <ol className=\"text-sm text-gray-700 space-y-1 list-decimal list-inside\">\n              <li>Share referral links with ?ref=YOUR_ADDRESS</li>\n              <li>Test claims with verified GoodDollar users</li>\n              <li>When ready, switch to PROD contract</li>\n              <li>Apply at: <a href=\"https://engagement-rewards.vercel.app/apply\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-blue-600 hover:underline\">engagement-rewards.vercel.app/apply</a></li>\n            </ol>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":"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"}}]
}